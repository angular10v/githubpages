(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{AdzO:function(c,e,t){"use strict";t.r(e),t.d(e,"InvoiceModule",(function(){return uc}));var i=t("ofXK"),o=t("+0xr"),a=t("fXoL"),n=t("tk/3");let r=(()=>{class c{constructor(c){this.http=c}getInvoiceList(){return this.http.get("/api/invoices/")}getInvoiceById(c){return this.http.get("/api/invoices/"+c)}saveInvoice(c){return c.id?this.http.put("/api/invoices/"+c.id,c):(c.id=(1e9*Math.random()).toString(),this.http.post("/api/invoices/",c))}deleteInvoice(c){return this.http.delete("/api/invoices/"+c)}}return c.\u0275fac=function(e){return new(e||c)(a.lc(n.c))},c.\u0275prov=a.Xb({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var l=t("3kSh"),d=t("Wp6s"),m=t("XiUz"),u=t("Dh3D");function s(c,e){1&c&&(a.hc(0,"mat-header-cell",33),a.cd(1," SERVICE "),a.gc())}function h(c,e){if(1&c&&(a.hc(0,"mat-cell",34),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.country," ")}}function f(c,e){1&c&&(a.hc(0,"mat-header-cell",33),a.cd(1," PRICE PER "),a.gc())}function g(c,e){if(1&c&&(a.hc(0,"mat-cell",35),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.visitor," ")}}function p(c,e){1&c&&(a.hc(0,"mat-header-cell",33),a.cd(1," UNIT "),a.gc())}function b(c,e){if(1&c&&(a.hc(0,"mat-cell",36),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.pageView," ")}}function v(c,e){1&c&&(a.hc(0,"mat-header-cell"),a.cd(1," QUANTITY "),a.gc())}function x(c,e){if(1&c&&(a.hc(0,"mat-cell",37),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.download," ")}}function y(c,e){1&c&&(a.hc(0,"mat-header-cell",38),a.cd(1," TOTAL "),a.gc())}function w(c,e){if(1&c&&(a.hc(0,"mat-cell",39),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.bounceRate," ")}}function I(c,e){1&c&&a.cc(0,"mat-header-row")}function C(c,e){1&c&&a.cc(0,"mat-row")}function A(c,e){1&c&&(a.hc(0,"mat-header-cell"),a.cd(1," QUANTITY "),a.gc())}function L(c,e){if(1&c&&(a.hc(0,"mat-cell",37),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.download," ")}}function F(c,e){1&c&&(a.hc(0,"mat-header-cell",38),a.cd(1," TOTAL "),a.gc())}function M(c,e){if(1&c&&(a.hc(0,"mat-cell",40),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.bounceRate," ")}}function T(c,e){1&c&&a.cc(0,"mat-header-row")}function D(c,e){1&c&&a.cc(0,"mat-row")}const N=function(){return["country","visitor","pageView","download","bounceRate"]},O=function(){return["download","bounceRate"]};let S=(()=>{class c{constructor(c,e,t){this.invoiceService=c,this.confirmService=e,this.cdr=t,this.itemTableColumn=["Order No.","Bill From","Bill To","Status","Actions"]}ngOnInit(){this.getInvoiceList(),this.countryTrafficStats=[{country:"New Dashboard Prototype, Design & Code",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"},{country:"Graphic Pack - Monthly Subscription (includes Updates)\t",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"},{country:"Logo & Branding Pack\t",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"},{country:"Bug Fixes",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"}],this.invoiceTotal=[{download:"SUBTOTAL",bounceRate:"$3100.00"},{download:"TAX (17%)",bounceRate:"$234"},{download:"DISCOUNT (5%)",bounceRate:"-$119.00"},{download:"TOTAL",bounceRate:"$3200.00"}]}getInvoiceList(){this.invoiceService.getInvoiceList().subscribe(c=>{this.invoiceList=c,this.cdr.detectChanges()})}deleteInvoiceById(c){this.confirmService.confirm({title:"Confirm",message:"Are you sure to delete?"}).subscribe(e=>{e&&(this.invoiceService.deleteInvoice(c).subscribe(c=>{this.getInvoiceList()}),this.itemTable.renderRows())})}}return c.\u0275fac=function(e){return new(e||c)(a.bc(r),a.bc(l.a),a.bc(a.i))},c.\u0275cmp=a.Vb({type:c,selectors:[["app-invoice-list"]],viewQuery:function(c,e){var t;1&c&&a.hd(o.n,!0),2&c&&a.Oc(t=a.qc())&&(e.itemTable=t.first)},decls:80,vars:10,consts:[[1,"checkout"],["fxFlex","100","fxLayout","column",1,"mb-1","p-36"],["fxLayout","row wrap","fxFlex","100","fxFlex.gt-md","100","fxFlex.gt-sm","100",1,"header-wrapper"],["fxFlex","100","fxFlex.gt-md","50","fxFlex.md","45",1,"logo-area"],["src","../../../../assets/images/logo.svg","alt","",1,"height-10"],[1,"text-muted"],[1,"fw-500"],[1,"text-muted","mb-0"],["fxFlex","100","fxFlex.gt-md","50","fxFlex.md","45","fxLayout","column","fxLayoutAlign","end end",1,"address-area","text-right"],[1,"display-1"],[1,"text-left","pl-12"],[1,"mt-16"],[1,"text-muted","mb-0","mt-16"],["fxLayout","column","fxFlex","100","fxFlex.gt-md","100","fxFlex.gt-sm","100",1,"table-wrapper","mt-40"],[1,"main-invoice"],["matSort","",1,"width-100",3,"dataSource"],["matColumnDef","country"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","id",4,"matCellDef"],["matColumnDef","visitor"],["data-label","progress",4,"matCellDef"],["matColumnDef","pageView"],["data-label","name",4,"matCellDef"],["matColumnDef","download"],[4,"matHeaderCellDef"],["data-label","color",4,"matCellDef"],["matColumnDef","bounceRate"],["class","text-right","fxFlexAlign","flex-end",4,"matHeaderCellDef"],["data-label","color","fxFlexAlign","flex-end",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"summary-table"],["class","ml-36","data-label","color","fxFlexAlign","flex-end",4,"matCellDef"],["mat-sort-header",""],["data-label","id"],["data-label","progress"],["data-label","name"],["data-label","color"],["fxFlexAlign","flex-end",1,"text-right"],["data-label","color","fxFlexAlign","flex-end"],["data-label","color","fxFlexAlign","flex-end",1,"ml-36"]],template:function(c,e){1&c&&(a.hc(0,"div",0),a.hc(1,"mat-card",1),a.hc(2,"div",2),a.hc(3,"div",3),a.cc(4,"img",4),a.hc(5,"h5",5),a.cd(6,"RECIPIENT"),a.gc(),a.hc(7,"h4",6),a.cd(8,"Michael Jordan"),a.gc(),a.hc(9,"p",7),a.cd(10,"Salwa Road, Retaj Complex"),a.gc(),a.hc(11,"p",7),a.cd(12,"Doha, Qatar"),a.gc(),a.hc(13,"p",7),a.cd(14,"Block A-5, Office 180,"),a.gc(),a.gc(),a.hc(15,"div",8),a.hc(16,"h1",9),a.cd(17," INVOICE "),a.gc(),a.hc(18,"table"),a.hc(19,"tbody"),a.hc(20,"tr"),a.hc(21,"td",5),a.cd(22," INVOICE NO."),a.gc(),a.hc(23,"td",10),a.cd(24,"2019/0592"),a.gc(),a.gc(),a.hc(25,"tr"),a.hc(26,"td",5),a.cd(27," INVOICE DATE"),a.gc(),a.hc(28,"td",10),a.cd(29,"10/04/2019"),a.gc(),a.gc(),a.hc(30,"tr"),a.hc(31,"td",5),a.cd(32," PROJECT NO."),a.gc(),a.hc(33,"td",10),a.cd(34,"D-23-44"),a.gc(),a.gc(),a.gc(),a.gc(),a.hc(35,"div",11),a.hc(36,"h5",5),a.cd(37,"COMPANY"),a.gc(),a.hc(38,"h4",6),a.cd(39,"Inovec Trading Ltd"),a.gc(),a.hc(40,"p",7),a.cd(41,"Salwa Road, Retaj Complex"),a.gc(),a.hc(42,"p",7),a.cd(43,"Doha, Qatar"),a.gc(),a.hc(44,"p",7),a.cd(45,"Block A-5, Office 180,"),a.gc(),a.hc(46,"p",12),a.cd(47," info@inovec.qa"),a.gc(),a.hc(48,"p",7),a.cd(49,"+974 4468 7067"),a.gc(),a.gc(),a.gc(),a.gc(),a.hc(50,"div",13),a.hc(51,"div",14),a.hc(52,"mat-table",15),a.fc(53,16),a.ad(54,s,2,0,"mat-header-cell",17),a.ad(55,h,2,1,"mat-cell",18),a.ec(),a.fc(56,19),a.ad(57,f,2,0,"mat-header-cell",17),a.ad(58,g,2,1,"mat-cell",20),a.ec(),a.fc(59,21),a.ad(60,p,2,0,"mat-header-cell",17),a.ad(61,b,2,1,"mat-cell",22),a.ec(),a.fc(62,23),a.ad(63,v,2,0,"mat-header-cell",24),a.ad(64,x,2,1,"mat-cell",25),a.ec(),a.fc(65,26),a.ad(66,y,2,0,"mat-header-cell",27),a.ad(67,w,2,1,"mat-cell",28),a.ec(),a.ad(68,I,1,0,"mat-header-row",29),a.ad(69,C,1,0,"mat-row",30),a.gc(),a.gc(),a.hc(70,"div",31),a.hc(71,"mat-table",15),a.fc(72,23),a.ad(73,A,2,0,"mat-header-cell",24),a.ad(74,L,2,1,"mat-cell",25),a.ec(),a.fc(75,26),a.ad(76,F,2,0,"mat-header-cell",27),a.ad(77,M,2,1,"mat-cell",32),a.ec(),a.ad(78,T,1,0,"mat-header-row",29),a.ad(79,D,1,0,"mat-row",30),a.gc(),a.gc(),a.gc(),a.gc(),a.gc()),2&c&&(a.Mb(52),a.Ac("dataSource",e.countryTrafficStats),a.Mb(16),a.Ac("matHeaderRowDef",a.Fc(6,N)),a.Mb(1),a.Ac("matRowDefColumns",a.Fc(7,N)),a.Mb(2),a.Ac("dataSource",e.invoiceTotal),a.Mb(7),a.Ac("matHeaderRowDef",a.Fc(8,O)),a.Mb(1),a.Ac("matRowDefColumns",a.Fc(9,O)))},directives:[d.a,m.b,m.d,m.c,o.n,u.a,o.c,o.i,o.b,o.k,o.m,o.h,u.b,o.a,m.a,o.j,o.l],styles:[""]}),c})();var k=t("tyNb"),R=t("3Pt+"),$=t("wl2U"),E=t("kmnG"),B=t("qFsG"),P=t("QibW"),G=t("iadO"),q=t("f0Cb"),V=t("bTqV"),U=t("NFeN");function H(c,e){if(1&c){const c=a.ic();a.hc(0,"button",36),a.pc("click",(function(){a.Tc(c);const e=a.tc(2);return e.showEditOption=!e.showEditOption})),a.cd(1," Cancel "),a.gc()}}function j(c,e){if(1&c){const c=a.ic();a.hc(0,"div",37),a.hc(1,"span"),a.cd(2),a.gc(),a.hc(3,"mat-form-field"),a.cc(4,"input",38,39),a.gc(),a.hc(6,"mat-form-field"),a.cc(7,"input",40,41),a.gc(),a.hc(9,"mat-form-field"),a.cc(10,"input",42,43),a.gc(),a.hc(12,"span"),a.cd(13),a.gc(),a.hc(14,"button",30),a.pc("click",(function(){a.Tc(c);const t=e.index;return a.tc(2).deleteItemFromInvoice(t)})),a.cd(15," Delete "),a.gc(),a.gc()}if(2&c){const c=e.$implicit,t=e.index,i=a.Pc(8),o=a.Pc(11);a.Ac("formGroup",c),a.Mb(2),a.dd(t+1),a.Mb(11),a.dd(o.value*i.value)}}function z(c,e){if(1&c){const c=a.ic();a.hc(0,"mat-card"),a.hc(1,"form",2),a.pc("ngSubmit",(function(){return a.Tc(c),a.tc().saveInvoice()})),a.hc(2,"div",3),a.ad(3,H,2,0,"button",4),a.hc(4,"button-loading",5),a.cd(5,"Save"),a.gc(),a.gc(),a.hc(6,"div",6),a.hc(7,"div",7),a.hc(8,"h4"),a.hc(9,"strong"),a.cd(10,"Order Info"),a.gc(),a.gc(),a.hc(11,"p"),a.cd(12,"Order Number"),a.gc(),a.hc(13,"mat-form-field"),a.cc(14,"input",8),a.gc(),a.gc(),a.hc(15,"div",9),a.hc(16,"div"),a.hc(17,"mat-radio-group",10),a.hc(18,"mat-radio-button",11),a.cd(19,"Pending"),a.gc(),a.hc(20,"mat-radio-button",12),a.cd(21,"Processing"),a.gc(),a.hc(22,"mat-radio-button",13),a.cd(23,"Delivered"),a.gc(),a.gc(),a.gc(),a.hc(24,"div"),a.hc(25,"p",14),a.cd(26,"Order Date"),a.gc(),a.hc(27,"mat-form-field",15),a.cc(28,"input",16),a.cc(29,"mat-datepicker-toggle",17),a.cc(30,"mat-datepicker",null,18),a.gc(),a.gc(),a.gc(),a.gc(),a.cc(32,"mat-divider"),a.hc(33,"div",19),a.hc(34,"div",20),a.hc(35,"h4"),a.hc(36,"strong"),a.cd(37,"Bill From"),a.gc(),a.gc(),a.hc(38,"mat-form-field"),a.cc(39,"input",21),a.gc(),a.hc(40,"mat-form-field"),a.cc(41,"textarea",22),a.gc(),a.gc(),a.hc(42,"div",23),a.hc(43,"h4"),a.hc(44,"strong"),a.cd(45,"Bill To"),a.gc(),a.gc(),a.hc(46,"mat-form-field",15),a.cc(47,"input",24),a.gc(),a.hc(48,"mat-form-field",15),a.cc(49,"textarea",25),a.gc(),a.gc(),a.gc(),a.hc(50,"div",26),a.hc(51,"div",27),a.hc(52,"p"),a.cd(53,"#"),a.gc(),a.hc(54,"p"),a.cd(55,"Item Name"),a.gc(),a.hc(56,"p"),a.cd(57,"Unit Price"),a.gc(),a.hc(58,"p"),a.cd(59,"Unit"),a.gc(),a.hc(60,"p"),a.cd(61,"Cost"),a.gc(),a.cc(62,"p"),a.gc(),a.ad(63,j,16,3,"div",28),a.hc(64,"div",29),a.hc(65,"button",30),a.pc("click",(function(){a.Tc(c);const e=a.tc();return e.addNewItem(e.emptyFormObject)})),a.cd(66," Add Item "),a.gc(),a.gc(),a.gc(),a.hc(67,"div",31),a.hc(68,"div",32),a.hc(69,"span"),a.cd(70,"Sub Total:"),a.gc(),a.hc(71,"span"),a.cd(72),a.gc(),a.gc(),a.hc(73,"div",32),a.hc(74,"span"),a.cd(75,"Vat(%):"),a.gc(),a.hc(76,"div",33),a.hc(77,"mat-form-field"),a.cc(78,"input",34),a.gc(),a.hc(79,"span"),a.cd(80),a.gc(),a.gc(),a.gc(),a.hc(81,"div",32),a.hc(82,"h5"),a.hc(83,"strong"),a.cd(84,"Grand Total: "),a.gc(),a.gc(),a.hc(85,"div",33),a.hc(86,"mat-form-field"),a.cc(87,"input",35),a.gc(),a.hc(88,"h5"),a.hc(89,"strong"),a.cd(90),a.gc(),a.gc(),a.gc(),a.gc(),a.gc(),a.gc(),a.gc()}if(2&c){const c=a.Pc(31),e=a.tc();a.Mb(1),a.Ac("formGroup",e.invoiceForm),a.Mb(2),a.Ac("ngIf",!e.isLoading),a.Mb(1),a.Ac("loadingText","Saving...")("type","submit")("loading",e.isLoading),a.Mb(24),a.Ac("matDatepicker",c),a.Mb(1),a.Ac("for",c),a.Mb(34),a.Ac("ngForOf",e.invoiceItemFormArray.controls),a.Mb(9),a.fd("",e.currency,"",e.cost,""),a.Mb(8),a.fd("",e.currency,"",e.vat,""),a.Mb(10),a.fd("",e.currency,"",e.cost+e.vat,"")}}function Q(c,e){1&c&&(a.hc(0,"mat-header-cell"),a.cd(1," # "),a.gc())}function Y(c,e){if(1&c&&(a.hc(0,"mat-cell"),a.cd(1),a.gc()),2&c){const c=e.index;a.Mb(1),a.ed(" ",c+1," ")}}function X(c,e){if(1&c&&(a.hc(0,"mat-header-cell"),a.cd(1),a.gc()),2&c){const c=a.tc(2);a.Mb(1),a.ed(" ",c.itemTableColumn[1]," ")}}function J(c,e){if(1&c&&(a.hc(0,"mat-cell"),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.name," ")}}function W(c,e){if(1&c&&(a.hc(0,"mat-header-cell"),a.cd(1),a.gc()),2&c){const c=a.tc(2);a.Mb(1),a.ed(" ",c.itemTableColumn[2]," ")}}function Z(c,e){if(1&c&&(a.hc(0,"mat-cell"),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.price," ")}}function K(c,e){if(1&c&&(a.hc(0,"mat-header-cell"),a.cd(1),a.gc()),2&c){const c=a.tc(2);a.Mb(1),a.ed(" ",c.itemTableColumn[3]," ")}}function _(c,e){if(1&c&&(a.hc(0,"mat-cell"),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.unit," ")}}function cc(c,e){if(1&c&&(a.hc(0,"mat-header-cell"),a.cd(1),a.gc()),2&c){const c=a.tc(2);a.Mb(1),a.ed(" ",c.itemTableColumn[4]," ")}}function ec(c,e){if(1&c&&(a.hc(0,"mat-cell"),a.cd(1),a.gc()),2&c){const c=e.$implicit;a.Mb(1),a.ed(" ",c.unit*c.price," ")}}function tc(c,e){1&c&&a.cc(0,"mat-header-row")}function ic(c,e){1&c&&a.cc(0,"mat-row")}function oc(c,e){if(1&c){const c=a.ic();a.hc(0,"mat-card",44),a.hc(1,"div",45),a.hc(2,"button",46),a.hc(3,"mat-icon"),a.cd(4,"arrow_back"),a.gc(),a.gc(),a.cc(5,"span",47),a.hc(6,"button",48),a.pc("click",(function(){a.Tc(c);const e=a.tc();return e.showEditOption=!e.showEditOption})),a.cd(7," Edit Invoice "),a.gc(),a.hc(8,"button",49),a.pc("click",(function(){return a.Tc(c),a.tc().print()})),a.cd(9," Print Invoice "),a.gc(),a.gc(),a.hc(10,"div",50),a.hc(11,"div",51),a.hc(12,"div"),a.hc(13,"h4"),a.hc(14,"strong"),a.cd(15,"Order Info"),a.gc(),a.gc(),a.hc(16,"p"),a.cd(17,"Order Number"),a.gc(),a.hc(18,"p"),a.cd(19),a.gc(),a.gc(),a.hc(20,"div"),a.hc(21,"p"),a.hc(22,"strong"),a.cd(23,"Order status: "),a.gc(),a.cd(24),a.gc(),a.hc(25,"p"),a.hc(26,"strong"),a.cd(27,"Order date: "),a.gc(),a.cd(28),a.uc(29,"date"),a.gc(),a.gc(),a.gc(),a.cc(30,"mat-divider"),a.hc(31,"div",52),a.hc(32,"div"),a.hc(33,"h4"),a.hc(34,"strong"),a.cd(35,"Bill From"),a.gc(),a.gc(),a.hc(36,"p"),a.cd(37),a.gc(),a.hc(38,"p"),a.cd(39),a.gc(),a.gc(),a.hc(40,"div"),a.hc(41,"h4"),a.hc(42,"strong"),a.cd(43,"Bill To"),a.gc(),a.gc(),a.hc(44,"p"),a.cd(45),a.gc(),a.hc(46,"p"),a.cd(47),a.gc(),a.gc(),a.gc(),a.hc(48,"div",53),a.hc(49,"mat-table",54,55),a.fc(51,56),a.ad(52,Q,2,0,"mat-header-cell",57),a.ad(53,Y,2,1,"mat-cell",58),a.ec(),a.fc(54,56),a.ad(55,X,2,1,"mat-header-cell",57),a.ad(56,J,2,1,"mat-cell",58),a.ec(),a.fc(57,56),a.ad(58,W,2,1,"mat-header-cell",57),a.ad(59,Z,2,1,"mat-cell",58),a.ec(),a.fc(60,56),a.ad(61,K,2,1,"mat-header-cell",57),a.ad(62,_,2,1,"mat-cell",58),a.ec(),a.fc(63,56),a.ad(64,cc,2,1,"mat-header-cell",57),a.ad(65,ec,2,1,"mat-cell",58),a.ec(),a.ad(66,tc,1,0,"mat-header-row",59),a.ad(67,ic,1,0,"mat-row",60),a.gc(),a.gc(),a.hc(68,"div",61),a.hc(69,"div"),a.hc(70,"p"),a.cd(71,"Sub Total:"),a.gc(),a.hc(72,"p"),a.cd(73,"Vat:"),a.gc(),a.hc(74,"h5"),a.hc(75,"strong"),a.cd(76,"Grand Total: "),a.gc(),a.gc(),a.gc(),a.hc(77,"div"),a.hc(78,"p"),a.cd(79),a.gc(),a.hc(80,"p"),a.cd(81),a.gc(),a.hc(82,"h5"),a.hc(83,"strong"),a.cd(84),a.gc(),a.gc(),a.gc(),a.gc(),a.gc(),a.gc()}if(2&c){const c=a.tc();a.Mb(19),a.ed("# ",null==c.invoice?null:c.invoice.orderNo,""),a.Mb(5),a.ed(" ",null==c.invoice?null:c.invoice.status,""),a.Mb(4),a.ed(" ",a.vc(29,21,null==c.invoice?null:c.invoice.date),""),a.Mb(9),a.dd(null==c.invoice||null==c.invoice.seller?null:c.invoice.seller.name),a.Mb(2),a.dd(null==c.invoice||null==c.invoice.seller?null:c.invoice.seller.address),a.Mb(6),a.dd(null==c.invoice||null==c.invoice.buyer?null:c.invoice.buyer.name),a.Mb(2),a.dd(null==c.invoice||null==c.invoice.buyer?null:c.invoice.buyer.address),a.Mb(2),a.Ac("dataSource",c.invoice.item),a.Mb(2),a.Bc("matColumnDef",c.itemTableColumn[0]),a.Mb(3),a.Bc("matColumnDef",c.itemTableColumn[1]),a.Mb(3),a.Bc("matColumnDef",c.itemTableColumn[2]),a.Mb(3),a.Bc("matColumnDef",c.itemTableColumn[3]),a.Mb(3),a.Bc("matColumnDef",c.itemTableColumn[4]),a.Mb(3),a.Ac("matHeaderRowDef",c.itemTableColumn),a.Mb(1),a.Ac("matRowDefColumns",c.itemTableColumn),a.Mb(12),a.fd("",c.currency,"",c.cost,""),a.Mb(2),a.fd("",c.currency,"",c.vat.toFixed(2),""),a.Mb(3),a.fd("",c.currency,"",(c.cost+c.vat).toFixed(2),"")}}let ac=(()=>{class c{constructor(c,e,t,i,o){this.fb=c,this.route=e,this.router=t,this.invoiceService=i,this.cdr=o,this.cost=0,this.vat=0,this.currency="$",this.showEditOption=!1,this.isLoading=!1,this.invoice={item:[]},this.emptyFormObject={name:"",price:null,unit:null},this.itemTableColumn=["Number","Item Name","Unit Price","Unit","Cost"]}ngOnInit(){this.invocieId=this.route.snapshot.params.id,this.invocieId?(this.getInvoice(),this.showEditOption=!1):(this.buildInvoiceForm(),this.showEditOption=!0)}getInvoice(){this.invoiceService.getInvoiceById(this.invocieId).subscribe(c=>{this.invoice=c,this.buildInvoiceForm(this.invoice),this.calculateCost(this.invoice),this.cdr.markForCheck()})}buildInvoiceForm(c){this.invoiceForm=this.fb.group({id:[c?c.id:""],orderNo:[c?c.orderNo:""],status:c?c.status:"",date:c?new Date(c.date):"",vat:c?c.vat:0,currency:c?c.currency:"",seller:this.fb.group({name:[c?c.seller.name:""],address:[c?c.seller.address:""]}),buyer:this.fb.group({name:[c?c.buyer.name:""],address:[c?c.buyer.address:""]}),item:this.fb.array([])}),this.invoice.item.forEach(c=>{this.addNewItem(c)}),this.invoiceFormSub&&this.invoiceFormSub.unsubscribe(),this.invoiceFormSub=this.invoiceForm.valueChanges.subscribe(c=>{this.calculateCost(c)})}calculateCost(c){this.cost=0,c.item.forEach(c=>{this.cost+=c.unit*c.price}),this.vat=c.vat*this.cost/100,this.currency=c.currency}addNewItem(c){this.invoiceItemFormArray.push(this.fb.group({name:[c?c.name:""],price:[c?c.price:""],unit:[c?c.unit:""]}))}deleteItemFromInvoice(c){this.invoiceItemFormArray.removeAt(c)}saveInvoice(){this.invoiceForm.invalid||(this.isLoading=!0,this.invoiceService.saveInvoice(this.invoiceForm.value).subscribe(c=>{this.invoice=this.invoiceForm.value,this.isLoading=!1,this.showEditOption=!1,this.cdr.markForCheck(),c&&this.router.navigateByUrl("/invoice/"+c.id)}))}print(){window.print()}get invoiceItemFormArray(){return this.invoiceForm.get("item")}}return c.\u0275fac=function(e){return new(e||c)(a.bc(R.e),a.bc(k.a),a.bc(k.g),a.bc(r),a.bc(a.i))},c.\u0275cmp=a.Vb({type:c,selectors:[["app-invoice-details"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","invoice-details",4,"ngIf"],[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","","type","button","class","ml-1 mr-1",3,"click",4,"ngIf"],["color","primary",3,"loadingText","type","loading"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"order-info"],["fxLayout","column","fxFlex","33.33%"],["formControlName","orderNo","matInput","","required","","placeholder","Order No."],["fxLayout","column","fxFlex","33.33%","fxLayoutGap","20px"],["formControlName","status","fxLayout","column","fxLayoutAlign","end end","fxLayoutGap","5px","required",""],["labelPosition","before","value","pending"],["labelPosition","before","value","processing"],["labelPosition","before","value","delivered"],[1,"align-right"],["fxFill",""],["matInput","","required","","placeholder","Choose a date","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"billing-address"],["formGroupName","seller","fxLayout","column","fxLayoutGap","20px","fxFlex","33.33%"],["formControlName","name","matInput","","required","","placeholder","Name of Seller"],["formControlName","address","matInput","","required","","matTextareaAutosize","","placeholder","Address of Seller"],["formGroupName","buyer","fxLayout","column","fxLayoutAlign","center end","fxLayoutGap","20px","fxFlex","33.33%"],["formControlName","name","matInput","","required","","placeholder","Name of Buyer"],["formControlName","address","matInput","","required","","matTextareaAutosize","","placeholder","Address of Buyer"],["formArrayName","item","fxLayout","column",1,"item-form-list"],["fxLayout","row","fxLayoutAlign","space-around center",1,"item-form-list-head-line"],["class","form-rows","fxLayout","row","fxLayoutAlign","space-around center",3,"formGroup",4,"ngFor","ngForOf"],[1,"add-button"],["mat-button","","type","button",3,"click"],["fxLayout","column","fxLayoutAlign","center end","fxLayoutGap","10px",1,"form-total-cost"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","end center"],["type","number","formControlName","vat","matInput","","placeholder","vat","required",""],["formControlName","currency","matInput","","placeholder","currency","required",""],["mat-button","","type","button",1,"ml-1","mr-1",3,"click"],["fxLayout","row","fxLayoutAlign","space-around center",1,"form-rows",3,"formGroup"],["formControlName","name","matInput","","placeholder","Item Name","required",""],["name",""],["type","number","formControlName","price","matInput","","placeholder","Item Price","required",""],["price",""],["type","number","formControlName","unit","matInput","","placeholder","Item Unit","required",""],["unit",""],[1,"invoice-details"],["fxLayout","row"],["mat-icon-button","","routerLink","/invoice/list"],["fxFlex",""],["mat-flat-button","","color","primary",1,"ml-1","mr-1",3,"click"],["mat-flat-button","","color","accent",3,"click"],["id","print-area"],["fxLayout","row","fxLayoutAlign","space-between",1,"order-info"],["fxLayout","row","fxLayoutAlign","space-between",1,"billing-address"],[1,"item-table"],[1,"mat-elevation-z4",3,"dataSource"],["table",""],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","50px",1,"total-cost"]],template:function(c,e){1&c&&(a.ad(0,z,91,14,"mat-card",0),a.ad(1,oc,85,23,"mat-card",1)),2&c&&(a.Ac("ngIf",e.showEditOption),a.Mb(1),a.Ac("ngIf",!e.showEditOption))},directives:[i.q,d.a,R.A,R.q,R.j,m.d,m.c,$.a,m.b,E.c,R.c,B.b,R.p,R.h,R.w,m.e,P.b,P.a,m.f,G.b,G.d,E.i,G.a,q.a,R.k,B.d,R.d,i.p,V.b,R.u,k.h,U.a,o.n,o.c,o.i,o.b,o.k,o.m,o.h,o.a,o.j,o.l],pipes:[i.f],styles:[""],changeDetection:0}),c})();const nc=[{path:"list",component:S,data:{title:"Invoice",breadcrumb:"Invoice"}},{path:"add",component:ac,pathMatch:"full"},{path:":id",component:ac,pathMatch:"full"}];let rc=(()=>{class c{}return c.\u0275mod=a.Zb({type:c}),c.\u0275inj=a.Yb({factory:function(e){return new(e||c)},imports:[[k.k.forChild(nc)],k.k]}),c})();var lc=t("YUcS"),dc=t("jgPy"),mc=t("zMWy");let uc=(()=>{class c{}return c.\u0275mod=a.Zb({type:c}),c.\u0275inj=a.Yb({factory:function(e){return new(e||c)},providers:[r],imports:[[i.c,rc,mc.a,R.v,dc.a,lc.a]]}),c})()}}]);