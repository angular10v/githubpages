function _classCallCheck(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}function _createClass(c,e,t){return e&&_defineProperties(c.prototype,e),t&&_defineProperties(c,t),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{AdzO:function(c,e,t){"use strict";t.r(e),t.d(e,"InvoiceModule",(function(){return vc}));var a,i=t("ofXK"),o=t("+0xr"),n=t("fXoL"),r=t("tk/3"),l=((a=function(){function c(e){_classCallCheck(this,c),this.http=e}return _createClass(c,[{key:"getInvoiceList",value:function(){return this.http.get("/api/invoices/")}},{key:"getInvoiceById",value:function(c){return this.http.get("/api/invoices/"+c)}},{key:"saveInvoice",value:function(c){return c.id?this.http.put("/api/invoices/"+c.id,c):(c.id=(1e9*Math.random()).toString(),this.http.post("/api/invoices/",c))}},{key:"deleteInvoice",value:function(c){return this.http.delete("/api/invoices/"+c)}}]),c}()).\u0275fac=function(c){return new(c||a)(n.lc(r.c))},a.\u0275prov=n.Xb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),d=t("3kSh"),u=t("Wp6s"),m=t("XiUz"),f=t("Dh3D");function h(c,e){1&c&&(n.hc(0,"mat-header-cell",33),n.cd(1," SERVICE "),n.gc())}function s(c,e){if(1&c&&(n.hc(0,"mat-cell",34),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.country," ")}}function g(c,e){1&c&&(n.hc(0,"mat-header-cell",33),n.cd(1," PRICE PER "),n.gc())}function v(c,e){if(1&c&&(n.hc(0,"mat-cell",35),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.visitor," ")}}function p(c,e){1&c&&(n.hc(0,"mat-header-cell",33),n.cd(1," UNIT "),n.gc())}function b(c,e){if(1&c&&(n.hc(0,"mat-cell",36),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.pageView," ")}}function y(c,e){1&c&&(n.hc(0,"mat-header-cell"),n.cd(1," QUANTITY "),n.gc())}function x(c,e){if(1&c&&(n.hc(0,"mat-cell",37),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.download," ")}}function w(c,e){1&c&&(n.hc(0,"mat-header-cell",38),n.cd(1," TOTAL "),n.gc())}function C(c,e){if(1&c&&(n.hc(0,"mat-cell",39),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.bounceRate," ")}}function I(c,e){1&c&&n.cc(0,"mat-header-row")}function A(c,e){1&c&&n.cc(0,"mat-row")}function L(c,e){1&c&&(n.hc(0,"mat-header-cell"),n.cd(1," QUANTITY "),n.gc())}function F(c,e){if(1&c&&(n.hc(0,"mat-cell",37),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.download," ")}}function k(c,e){1&c&&(n.hc(0,"mat-header-cell",38),n.cd(1," TOTAL "),n.gc())}function M(c,e){if(1&c&&(n.hc(0,"mat-cell",40),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.bounceRate," ")}}function T(c,e){1&c&&n.cc(0,"mat-header-row")}function D(c,e){1&c&&n.cc(0,"mat-row")}var N,O=function(){return["country","visitor","pageView","download","bounceRate"]},S=function(){return["download","bounceRate"]},R=((N=function(){function c(e,t,a){_classCallCheck(this,c),this.invoiceService=e,this.confirmService=t,this.cdr=a,this.itemTableColumn=["Order No.","Bill From","Bill To","Status","Actions"]}return _createClass(c,[{key:"ngOnInit",value:function(){this.getInvoiceList(),this.countryTrafficStats=[{country:"New Dashboard Prototype, Design & Code",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"},{country:"Graphic Pack - Monthly Subscription (includes Updates)\t",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"},{country:"Logo & Branding Pack\t",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"},{country:"Bug Fixes",visitor:"$35.00",pageView:"Hour",download:40,bounceRate:"$1200.00"}],this.invoiceTotal=[{download:"SUBTOTAL",bounceRate:"$3100.00"},{download:"TAX (17%)",bounceRate:"$234"},{download:"DISCOUNT (5%)",bounceRate:"-$119.00"},{download:"TOTAL",bounceRate:"$3200.00"}]}},{key:"getInvoiceList",value:function(){var c=this;this.invoiceService.getInvoiceList().subscribe((function(e){c.invoiceList=e,c.cdr.detectChanges()}))}},{key:"deleteInvoiceById",value:function(c){var e=this;this.confirmService.confirm({title:"Confirm",message:"Are you sure to delete?"}).subscribe((function(t){t&&(e.invoiceService.deleteInvoice(c).subscribe((function(c){e.getInvoiceList()})),e.itemTable.renderRows())}))}}]),c}()).\u0275fac=function(c){return new(c||N)(n.bc(l),n.bc(d.a),n.bc(n.i))},N.\u0275cmp=n.Vb({type:N,selectors:[["app-invoice-list"]],viewQuery:function(c,e){var t;1&c&&n.hd(o.n,!0),2&c&&n.Oc(t=n.qc())&&(e.itemTable=t.first)},decls:80,vars:10,consts:[[1,"checkout"],["fxFlex","100","fxLayout","column",1,"mb-1","p-36"],["fxLayout","row wrap","fxFlex","100","fxFlex.gt-md","100","fxFlex.gt-sm","100",1,"header-wrapper"],["fxFlex","100","fxFlex.gt-md","50","fxFlex.md","45",1,"logo-area"],["src","../../../../assets/images/logo.svg","alt","",1,"height-10"],[1,"text-muted"],[1,"fw-500"],[1,"text-muted","mb-0"],["fxFlex","100","fxFlex.gt-md","50","fxFlex.md","45","fxLayout","column","fxLayoutAlign","end end",1,"address-area","text-right"],[1,"display-1"],[1,"text-left","pl-12"],[1,"mt-16"],[1,"text-muted","mb-0","mt-16"],["fxLayout","column","fxFlex","100","fxFlex.gt-md","100","fxFlex.gt-sm","100",1,"table-wrapper","mt-40"],[1,"main-invoice"],["matSort","",1,"width-100",3,"dataSource"],["matColumnDef","country"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","id",4,"matCellDef"],["matColumnDef","visitor"],["data-label","progress",4,"matCellDef"],["matColumnDef","pageView"],["data-label","name",4,"matCellDef"],["matColumnDef","download"],[4,"matHeaderCellDef"],["data-label","color",4,"matCellDef"],["matColumnDef","bounceRate"],["class","text-right","fxFlexAlign","flex-end",4,"matHeaderCellDef"],["data-label","color","fxFlexAlign","flex-end",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"summary-table"],["class","ml-36","data-label","color","fxFlexAlign","flex-end",4,"matCellDef"],["mat-sort-header",""],["data-label","id"],["data-label","progress"],["data-label","name"],["data-label","color"],["fxFlexAlign","flex-end",1,"text-right"],["data-label","color","fxFlexAlign","flex-end"],["data-label","color","fxFlexAlign","flex-end",1,"ml-36"]],template:function(c,e){1&c&&(n.hc(0,"div",0),n.hc(1,"mat-card",1),n.hc(2,"div",2),n.hc(3,"div",3),n.cc(4,"img",4),n.hc(5,"h5",5),n.cd(6,"RECIPIENT"),n.gc(),n.hc(7,"h4",6),n.cd(8,"Michael Jordan"),n.gc(),n.hc(9,"p",7),n.cd(10,"Salwa Road, Retaj Complex"),n.gc(),n.hc(11,"p",7),n.cd(12,"Doha, Qatar"),n.gc(),n.hc(13,"p",7),n.cd(14,"Block A-5, Office 180,"),n.gc(),n.gc(),n.hc(15,"div",8),n.hc(16,"h1",9),n.cd(17," INVOICE "),n.gc(),n.hc(18,"table"),n.hc(19,"tbody"),n.hc(20,"tr"),n.hc(21,"td",5),n.cd(22," INVOICE NO."),n.gc(),n.hc(23,"td",10),n.cd(24,"2019/0592"),n.gc(),n.gc(),n.hc(25,"tr"),n.hc(26,"td",5),n.cd(27," INVOICE DATE"),n.gc(),n.hc(28,"td",10),n.cd(29,"10/04/2019"),n.gc(),n.gc(),n.hc(30,"tr"),n.hc(31,"td",5),n.cd(32," PROJECT NO."),n.gc(),n.hc(33,"td",10),n.cd(34,"D-23-44"),n.gc(),n.gc(),n.gc(),n.gc(),n.hc(35,"div",11),n.hc(36,"h5",5),n.cd(37,"COMPANY"),n.gc(),n.hc(38,"h4",6),n.cd(39,"Inovec Trading Ltd"),n.gc(),n.hc(40,"p",7),n.cd(41,"Salwa Road, Retaj Complex"),n.gc(),n.hc(42,"p",7),n.cd(43,"Doha, Qatar"),n.gc(),n.hc(44,"p",7),n.cd(45,"Block A-5, Office 180,"),n.gc(),n.hc(46,"p",12),n.cd(47," info@inovec.qa"),n.gc(),n.hc(48,"p",7),n.cd(49,"+974 4468 7067"),n.gc(),n.gc(),n.gc(),n.gc(),n.hc(50,"div",13),n.hc(51,"div",14),n.hc(52,"mat-table",15),n.fc(53,16),n.ad(54,h,2,0,"mat-header-cell",17),n.ad(55,s,2,1,"mat-cell",18),n.ec(),n.fc(56,19),n.ad(57,g,2,0,"mat-header-cell",17),n.ad(58,v,2,1,"mat-cell",20),n.ec(),n.fc(59,21),n.ad(60,p,2,0,"mat-header-cell",17),n.ad(61,b,2,1,"mat-cell",22),n.ec(),n.fc(62,23),n.ad(63,y,2,0,"mat-header-cell",24),n.ad(64,x,2,1,"mat-cell",25),n.ec(),n.fc(65,26),n.ad(66,w,2,0,"mat-header-cell",27),n.ad(67,C,2,1,"mat-cell",28),n.ec(),n.ad(68,I,1,0,"mat-header-row",29),n.ad(69,A,1,0,"mat-row",30),n.gc(),n.gc(),n.hc(70,"div",31),n.hc(71,"mat-table",15),n.fc(72,23),n.ad(73,L,2,0,"mat-header-cell",24),n.ad(74,F,2,1,"mat-cell",25),n.ec(),n.fc(75,26),n.ad(76,k,2,0,"mat-header-cell",27),n.ad(77,M,2,1,"mat-cell",32),n.ec(),n.ad(78,T,1,0,"mat-header-row",29),n.ad(79,D,1,0,"mat-row",30),n.gc(),n.gc(),n.gc(),n.gc(),n.gc()),2&c&&(n.Mb(52),n.Ac("dataSource",e.countryTrafficStats),n.Mb(16),n.Ac("matHeaderRowDef",n.Fc(6,O)),n.Mb(1),n.Ac("matRowDefColumns",n.Fc(7,O)),n.Mb(2),n.Ac("dataSource",e.invoiceTotal),n.Mb(7),n.Ac("matHeaderRowDef",n.Fc(8,S)),n.Mb(1),n.Ac("matRowDefColumns",n.Fc(9,S)))},directives:[u.a,m.b,m.d,m.c,o.n,f.a,o.c,o.i,o.b,o.k,o.m,o.h,f.b,o.a,m.a,o.j,o.l],styles:[""]}),N),P=t("tyNb"),E=t("3Pt+"),$=t("wl2U"),B=t("kmnG"),G=t("qFsG"),q=t("QibW"),V=t("iadO"),U=t("f0Cb"),_=t("bTqV"),H=t("NFeN");function j(c,e){if(1&c){var t=n.ic();n.hc(0,"button",36),n.pc("click",(function(){n.Tc(t);var c=n.tc(2);return c.showEditOption=!c.showEditOption})),n.cd(1," Cancel "),n.gc()}}function z(c,e){if(1&c){var t=n.ic();n.hc(0,"div",37),n.hc(1,"span"),n.cd(2),n.gc(),n.hc(3,"mat-form-field"),n.cc(4,"input",38,39),n.gc(),n.hc(6,"mat-form-field"),n.cc(7,"input",40,41),n.gc(),n.hc(9,"mat-form-field"),n.cc(10,"input",42,43),n.gc(),n.hc(12,"span"),n.cd(13),n.gc(),n.hc(14,"button",30),n.pc("click",(function(){n.Tc(t);var c=e.index;return n.tc(2).deleteItemFromInvoice(c)})),n.cd(15," Delete "),n.gc(),n.gc()}if(2&c){var a=e.$implicit,i=e.index,o=n.Pc(8),r=n.Pc(11);n.Ac("formGroup",a),n.Mb(2),n.dd(i+1),n.Mb(11),n.dd(r.value*o.value)}}function Q(c,e){if(1&c){var t=n.ic();n.hc(0,"mat-card"),n.hc(1,"form",2),n.pc("ngSubmit",(function(){return n.Tc(t),n.tc().saveInvoice()})),n.hc(2,"div",3),n.ad(3,j,2,0,"button",4),n.hc(4,"button-loading",5),n.cd(5,"Save"),n.gc(),n.gc(),n.hc(6,"div",6),n.hc(7,"div",7),n.hc(8,"h4"),n.hc(9,"strong"),n.cd(10,"Order Info"),n.gc(),n.gc(),n.hc(11,"p"),n.cd(12,"Order Number"),n.gc(),n.hc(13,"mat-form-field"),n.cc(14,"input",8),n.gc(),n.gc(),n.hc(15,"div",9),n.hc(16,"div"),n.hc(17,"mat-radio-group",10),n.hc(18,"mat-radio-button",11),n.cd(19,"Pending"),n.gc(),n.hc(20,"mat-radio-button",12),n.cd(21,"Processing"),n.gc(),n.hc(22,"mat-radio-button",13),n.cd(23,"Delivered"),n.gc(),n.gc(),n.gc(),n.hc(24,"div"),n.hc(25,"p",14),n.cd(26,"Order Date"),n.gc(),n.hc(27,"mat-form-field",15),n.cc(28,"input",16),n.cc(29,"mat-datepicker-toggle",17),n.cc(30,"mat-datepicker",null,18),n.gc(),n.gc(),n.gc(),n.gc(),n.cc(32,"mat-divider"),n.hc(33,"div",19),n.hc(34,"div",20),n.hc(35,"h4"),n.hc(36,"strong"),n.cd(37,"Bill From"),n.gc(),n.gc(),n.hc(38,"mat-form-field"),n.cc(39,"input",21),n.gc(),n.hc(40,"mat-form-field"),n.cc(41,"textarea",22),n.gc(),n.gc(),n.hc(42,"div",23),n.hc(43,"h4"),n.hc(44,"strong"),n.cd(45,"Bill To"),n.gc(),n.gc(),n.hc(46,"mat-form-field",15),n.cc(47,"input",24),n.gc(),n.hc(48,"mat-form-field",15),n.cc(49,"textarea",25),n.gc(),n.gc(),n.gc(),n.hc(50,"div",26),n.hc(51,"div",27),n.hc(52,"p"),n.cd(53,"#"),n.gc(),n.hc(54,"p"),n.cd(55,"Item Name"),n.gc(),n.hc(56,"p"),n.cd(57,"Unit Price"),n.gc(),n.hc(58,"p"),n.cd(59,"Unit"),n.gc(),n.hc(60,"p"),n.cd(61,"Cost"),n.gc(),n.cc(62,"p"),n.gc(),n.ad(63,z,16,3,"div",28),n.hc(64,"div",29),n.hc(65,"button",30),n.pc("click",(function(){n.Tc(t);var c=n.tc();return c.addNewItem(c.emptyFormObject)})),n.cd(66," Add Item "),n.gc(),n.gc(),n.gc(),n.hc(67,"div",31),n.hc(68,"div",32),n.hc(69,"span"),n.cd(70,"Sub Total:"),n.gc(),n.hc(71,"span"),n.cd(72),n.gc(),n.gc(),n.hc(73,"div",32),n.hc(74,"span"),n.cd(75,"Vat(%):"),n.gc(),n.hc(76,"div",33),n.hc(77,"mat-form-field"),n.cc(78,"input",34),n.gc(),n.hc(79,"span"),n.cd(80),n.gc(),n.gc(),n.gc(),n.hc(81,"div",32),n.hc(82,"h5"),n.hc(83,"strong"),n.cd(84,"Grand Total: "),n.gc(),n.gc(),n.hc(85,"div",33),n.hc(86,"mat-form-field"),n.cc(87,"input",35),n.gc(),n.hc(88,"h5"),n.hc(89,"strong"),n.cd(90),n.gc(),n.gc(),n.gc(),n.gc(),n.gc(),n.gc(),n.gc()}if(2&c){var a=n.Pc(31),i=n.tc();n.Mb(1),n.Ac("formGroup",i.invoiceForm),n.Mb(2),n.Ac("ngIf",!i.isLoading),n.Mb(1),n.Ac("loadingText","Saving...")("type","submit")("loading",i.isLoading),n.Mb(24),n.Ac("matDatepicker",a),n.Mb(1),n.Ac("for",a),n.Mb(34),n.Ac("ngForOf",i.invoiceItemFormArray.controls),n.Mb(9),n.fd("",i.currency,"",i.cost,""),n.Mb(8),n.fd("",i.currency,"",i.vat,""),n.Mb(10),n.fd("",i.currency,"",i.cost+i.vat,"")}}function Y(c,e){1&c&&(n.hc(0,"mat-header-cell"),n.cd(1," # "),n.gc())}function X(c,e){if(1&c&&(n.hc(0,"mat-cell"),n.cd(1),n.gc()),2&c){var t=e.index;n.Mb(1),n.ed(" ",t+1," ")}}function J(c,e){if(1&c&&(n.hc(0,"mat-header-cell"),n.cd(1),n.gc()),2&c){var t=n.tc(2);n.Mb(1),n.ed(" ",t.itemTableColumn[1]," ")}}function W(c,e){if(1&c&&(n.hc(0,"mat-cell"),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.name," ")}}function Z(c,e){if(1&c&&(n.hc(0,"mat-header-cell"),n.cd(1),n.gc()),2&c){var t=n.tc(2);n.Mb(1),n.ed(" ",t.itemTableColumn[2]," ")}}function K(c,e){if(1&c&&(n.hc(0,"mat-cell"),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.price," ")}}function cc(c,e){if(1&c&&(n.hc(0,"mat-header-cell"),n.cd(1),n.gc()),2&c){var t=n.tc(2);n.Mb(1),n.ed(" ",t.itemTableColumn[3]," ")}}function ec(c,e){if(1&c&&(n.hc(0,"mat-cell"),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.unit," ")}}function tc(c,e){if(1&c&&(n.hc(0,"mat-header-cell"),n.cd(1),n.gc()),2&c){var t=n.tc(2);n.Mb(1),n.ed(" ",t.itemTableColumn[4]," ")}}function ac(c,e){if(1&c&&(n.hc(0,"mat-cell"),n.cd(1),n.gc()),2&c){var t=e.$implicit;n.Mb(1),n.ed(" ",t.unit*t.price," ")}}function ic(c,e){1&c&&n.cc(0,"mat-header-row")}function oc(c,e){1&c&&n.cc(0,"mat-row")}function nc(c,e){if(1&c){var t=n.ic();n.hc(0,"mat-card",44),n.hc(1,"div",45),n.hc(2,"button",46),n.hc(3,"mat-icon"),n.cd(4,"arrow_back"),n.gc(),n.gc(),n.cc(5,"span",47),n.hc(6,"button",48),n.pc("click",(function(){n.Tc(t);var c=n.tc();return c.showEditOption=!c.showEditOption})),n.cd(7," Edit Invoice "),n.gc(),n.hc(8,"button",49),n.pc("click",(function(){return n.Tc(t),n.tc().print()})),n.cd(9," Print Invoice "),n.gc(),n.gc(),n.hc(10,"div",50),n.hc(11,"div",51),n.hc(12,"div"),n.hc(13,"h4"),n.hc(14,"strong"),n.cd(15,"Order Info"),n.gc(),n.gc(),n.hc(16,"p"),n.cd(17,"Order Number"),n.gc(),n.hc(18,"p"),n.cd(19),n.gc(),n.gc(),n.hc(20,"div"),n.hc(21,"p"),n.hc(22,"strong"),n.cd(23,"Order status: "),n.gc(),n.cd(24),n.gc(),n.hc(25,"p"),n.hc(26,"strong"),n.cd(27,"Order date: "),n.gc(),n.cd(28),n.uc(29,"date"),n.gc(),n.gc(),n.gc(),n.cc(30,"mat-divider"),n.hc(31,"div",52),n.hc(32,"div"),n.hc(33,"h4"),n.hc(34,"strong"),n.cd(35,"Bill From"),n.gc(),n.gc(),n.hc(36,"p"),n.cd(37),n.gc(),n.hc(38,"p"),n.cd(39),n.gc(),n.gc(),n.hc(40,"div"),n.hc(41,"h4"),n.hc(42,"strong"),n.cd(43,"Bill To"),n.gc(),n.gc(),n.hc(44,"p"),n.cd(45),n.gc(),n.hc(46,"p"),n.cd(47),n.gc(),n.gc(),n.gc(),n.hc(48,"div",53),n.hc(49,"mat-table",54,55),n.fc(51,56),n.ad(52,Y,2,0,"mat-header-cell",57),n.ad(53,X,2,1,"mat-cell",58),n.ec(),n.fc(54,56),n.ad(55,J,2,1,"mat-header-cell",57),n.ad(56,W,2,1,"mat-cell",58),n.ec(),n.fc(57,56),n.ad(58,Z,2,1,"mat-header-cell",57),n.ad(59,K,2,1,"mat-cell",58),n.ec(),n.fc(60,56),n.ad(61,cc,2,1,"mat-header-cell",57),n.ad(62,ec,2,1,"mat-cell",58),n.ec(),n.fc(63,56),n.ad(64,tc,2,1,"mat-header-cell",57),n.ad(65,ac,2,1,"mat-cell",58),n.ec(),n.ad(66,ic,1,0,"mat-header-row",59),n.ad(67,oc,1,0,"mat-row",60),n.gc(),n.gc(),n.hc(68,"div",61),n.hc(69,"div"),n.hc(70,"p"),n.cd(71,"Sub Total:"),n.gc(),n.hc(72,"p"),n.cd(73,"Vat:"),n.gc(),n.hc(74,"h5"),n.hc(75,"strong"),n.cd(76,"Grand Total: "),n.gc(),n.gc(),n.gc(),n.hc(77,"div"),n.hc(78,"p"),n.cd(79),n.gc(),n.hc(80,"p"),n.cd(81),n.gc(),n.hc(82,"h5"),n.hc(83,"strong"),n.cd(84),n.gc(),n.gc(),n.gc(),n.gc(),n.gc(),n.gc()}if(2&c){var a=n.tc();n.Mb(19),n.ed("# ",null==a.invoice?null:a.invoice.orderNo,""),n.Mb(5),n.ed(" ",null==a.invoice?null:a.invoice.status,""),n.Mb(4),n.ed(" ",n.vc(29,21,null==a.invoice?null:a.invoice.date),""),n.Mb(9),n.dd(null==a.invoice||null==a.invoice.seller?null:a.invoice.seller.name),n.Mb(2),n.dd(null==a.invoice||null==a.invoice.seller?null:a.invoice.seller.address),n.Mb(6),n.dd(null==a.invoice||null==a.invoice.buyer?null:a.invoice.buyer.name),n.Mb(2),n.dd(null==a.invoice||null==a.invoice.buyer?null:a.invoice.buyer.address),n.Mb(2),n.Ac("dataSource",a.invoice.item),n.Mb(2),n.Bc("matColumnDef",a.itemTableColumn[0]),n.Mb(3),n.Bc("matColumnDef",a.itemTableColumn[1]),n.Mb(3),n.Bc("matColumnDef",a.itemTableColumn[2]),n.Mb(3),n.Bc("matColumnDef",a.itemTableColumn[3]),n.Mb(3),n.Bc("matColumnDef",a.itemTableColumn[4]),n.Mb(3),n.Ac("matHeaderRowDef",a.itemTableColumn),n.Mb(1),n.Ac("matRowDefColumns",a.itemTableColumn),n.Mb(12),n.fd("",a.currency,"",a.cost,""),n.Mb(2),n.fd("",a.currency,"",a.vat.toFixed(2),""),n.Mb(3),n.fd("",a.currency,"",(a.cost+a.vat).toFixed(2),"")}}var rc,lc,dc,uc=((rc=function(){function c(e,t,a,i,o){_classCallCheck(this,c),this.fb=e,this.route=t,this.router=a,this.invoiceService=i,this.cdr=o,this.cost=0,this.vat=0,this.currency="$",this.showEditOption=!1,this.isLoading=!1,this.invoice={item:[]},this.emptyFormObject={name:"",price:null,unit:null},this.itemTableColumn=["Number","Item Name","Unit Price","Unit","Cost"]}return _createClass(c,[{key:"ngOnInit",value:function(){this.invocieId=this.route.snapshot.params.id,this.invocieId?(this.getInvoice(),this.showEditOption=!1):(this.buildInvoiceForm(),this.showEditOption=!0)}},{key:"getInvoice",value:function(){var c=this;this.invoiceService.getInvoiceById(this.invocieId).subscribe((function(e){c.invoice=e,c.buildInvoiceForm(c.invoice),c.calculateCost(c.invoice),c.cdr.markForCheck()}))}},{key:"buildInvoiceForm",value:function(c){var e=this;this.invoiceForm=this.fb.group({id:[c?c.id:""],orderNo:[c?c.orderNo:""],status:c?c.status:"",date:c?new Date(c.date):"",vat:c?c.vat:0,currency:c?c.currency:"",seller:this.fb.group({name:[c?c.seller.name:""],address:[c?c.seller.address:""]}),buyer:this.fb.group({name:[c?c.buyer.name:""],address:[c?c.buyer.address:""]}),item:this.fb.array([])}),this.invoice.item.forEach((function(c){e.addNewItem(c)})),this.invoiceFormSub&&this.invoiceFormSub.unsubscribe(),this.invoiceFormSub=this.invoiceForm.valueChanges.subscribe((function(c){e.calculateCost(c)}))}},{key:"calculateCost",value:function(c){var e=this;this.cost=0,c.item.forEach((function(c){e.cost+=c.unit*c.price})),this.vat=c.vat*this.cost/100,this.currency=c.currency}},{key:"addNewItem",value:function(c){this.invoiceItemFormArray.push(this.fb.group({name:[c?c.name:""],price:[c?c.price:""],unit:[c?c.unit:""]}))}},{key:"deleteItemFromInvoice",value:function(c){this.invoiceItemFormArray.removeAt(c)}},{key:"saveInvoice",value:function(){var c=this;this.invoiceForm.invalid||(this.isLoading=!0,this.invoiceService.saveInvoice(this.invoiceForm.value).subscribe((function(e){c.invoice=c.invoiceForm.value,c.isLoading=!1,c.showEditOption=!1,c.cdr.markForCheck(),e&&c.router.navigateByUrl("/invoice/"+e.id)})))}},{key:"print",value:function(){window.print()}},{key:"invoiceItemFormArray",get:function(){return this.invoiceForm.get("item")}}]),c}()).\u0275fac=function(c){return new(c||rc)(n.bc(E.e),n.bc(P.a),n.bc(P.g),n.bc(l),n.bc(n.i))},rc.\u0275cmp=n.Vb({type:rc,selectors:[["app-invoice-details"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","invoice-details",4,"ngIf"],[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","","type","button","class","ml-1 mr-1",3,"click",4,"ngIf"],["color","primary",3,"loadingText","type","loading"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"order-info"],["fxLayout","column","fxFlex","33.33%"],["formControlName","orderNo","matInput","","required","","placeholder","Order No."],["fxLayout","column","fxFlex","33.33%","fxLayoutGap","20px"],["formControlName","status","fxLayout","column","fxLayoutAlign","end end","fxLayoutGap","5px","required",""],["labelPosition","before","value","pending"],["labelPosition","before","value","processing"],["labelPosition","before","value","delivered"],[1,"align-right"],["fxFill",""],["matInput","","required","","placeholder","Choose a date","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"billing-address"],["formGroupName","seller","fxLayout","column","fxLayoutGap","20px","fxFlex","33.33%"],["formControlName","name","matInput","","required","","placeholder","Name of Seller"],["formControlName","address","matInput","","required","","matTextareaAutosize","","placeholder","Address of Seller"],["formGroupName","buyer","fxLayout","column","fxLayoutAlign","center end","fxLayoutGap","20px","fxFlex","33.33%"],["formControlName","name","matInput","","required","","placeholder","Name of Buyer"],["formControlName","address","matInput","","required","","matTextareaAutosize","","placeholder","Address of Buyer"],["formArrayName","item","fxLayout","column",1,"item-form-list"],["fxLayout","row","fxLayoutAlign","space-around center",1,"item-form-list-head-line"],["class","form-rows","fxLayout","row","fxLayoutAlign","space-around center",3,"formGroup",4,"ngFor","ngForOf"],[1,"add-button"],["mat-button","","type","button",3,"click"],["fxLayout","column","fxLayoutAlign","center end","fxLayoutGap","10px",1,"form-total-cost"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","end center"],["type","number","formControlName","vat","matInput","","placeholder","vat","required",""],["formControlName","currency","matInput","","placeholder","currency","required",""],["mat-button","","type","button",1,"ml-1","mr-1",3,"click"],["fxLayout","row","fxLayoutAlign","space-around center",1,"form-rows",3,"formGroup"],["formControlName","name","matInput","","placeholder","Item Name","required",""],["name",""],["type","number","formControlName","price","matInput","","placeholder","Item Price","required",""],["price",""],["type","number","formControlName","unit","matInput","","placeholder","Item Unit","required",""],["unit",""],[1,"invoice-details"],["fxLayout","row"],["mat-icon-button","","routerLink","/invoice/list"],["fxFlex",""],["mat-flat-button","","color","primary",1,"ml-1","mr-1",3,"click"],["mat-flat-button","","color","accent",3,"click"],["id","print-area"],["fxLayout","row","fxLayoutAlign","space-between",1,"order-info"],["fxLayout","row","fxLayoutAlign","space-between",1,"billing-address"],[1,"item-table"],[1,"mat-elevation-z4",3,"dataSource"],["table",""],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","50px",1,"total-cost"]],template:function(c,e){1&c&&(n.ad(0,Q,91,14,"mat-card",0),n.ad(1,nc,85,23,"mat-card",1)),2&c&&(n.Ac("ngIf",e.showEditOption),n.Mb(1),n.Ac("ngIf",!e.showEditOption))},directives:[i.q,u.a,E.A,E.q,E.j,m.d,m.c,$.a,m.b,B.c,E.c,G.b,E.p,E.h,E.w,m.e,q.b,q.a,m.f,V.b,V.d,B.i,V.a,U.a,E.k,G.d,E.d,i.p,_.b,E.u,P.h,H.a,o.n,o.c,o.i,o.b,o.k,o.m,o.h,o.a,o.j,o.l],pipes:[i.f],styles:[""],changeDetection:0}),rc),mc=[{path:"list",component:R,data:{title:"Invoice",breadcrumb:"Invoice"}},{path:"add",component:uc,pathMatch:"full"},{path:":id",component:uc,pathMatch:"full"}],fc=((lc=function c(){_classCallCheck(this,c)}).\u0275mod=n.Zb({type:lc}),lc.\u0275inj=n.Yb({factory:function(c){return new(c||lc)},imports:[[P.k.forChild(mc)],P.k]}),lc),hc=t("YUcS"),sc=t("jgPy"),gc=t("zMWy"),vc=((dc=function c(){_classCallCheck(this,c)}).\u0275mod=n.Zb({type:dc}),dc.\u0275inj=n.Yb({factory:function(c){return new(c||dc)},providers:[l],imports:[[i.c,fc,gc.a,E.v,sc.a,hc.a]]}),dc)}}]);