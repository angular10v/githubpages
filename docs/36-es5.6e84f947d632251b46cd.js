function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{y64J:function(t,e,i){"use strict";i.r(e),i.d(e,"TodoModule",(function(){return ve}));var n,r,o=i("bFKe"),a=i("3Pt+"),s=i("bTqV"),c=i("bSwM"),l=i("A5z7"),d=i("FKr1"),h=i("iadO"),u=i("0IaG"),p=i("f0Cb"),g=i("NFeN"),f=i("qFsG"),_=i("STbY"),m=i("/t3+"),v=i("Qu3c"),b=i("ofXK"),y=i("tyNb"),k=i("2Vo4"),D=i("fXoL"),w=i("tk/3"),x=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.searchTerm=new k.a("")}return _createClass(t,[{key:"getTodoList",value:function(){return this.http.get("/api/todoList")}},{key:"getTodoById",value:function(t){return this.http.get("/api/todoList/"+t)}},{key:"getTagList",value:function(){return this.http.get("/api/todoTag")}},{key:"updateSearchTerm",value:function(t){this.searchTerm.next(t)}},{key:"getSearchTerm",value:function(){return this.searchTerm}},{key:"saveTag",value:function(t){return this.http.post("/api/todoTag/",t)}},{key:"deleteTag",value:function(t){this.http.delete("/api/todoTag/"+t.id).subscribe((function(t){}))}},{key:"deleteTodo",value:function(t){return this.http.delete("/api/todoList/"+t.id)}},{key:"updateTodo",value:function(t){var e;return t.selected=!1,t.id?e=this.http.put("/api/todoList/"+t.id,t):(t.id=1e6*Math.random(),e=this.http.post("/api/todoList/",t)),this.sub?(this.sub.unsubscribe(),this.sub=e.subscribe((function(t){}))):this.sub=e.subscribe((function(t){})),e}}]),t}()).\u0275fac=function(t){return new(t||r)(D.lc(w.c))},r.\u0275prov=D.Xb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),S=((n=function(){function t(e){_classCallCheck(this,t),this.todoService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||n)(D.bc(x))},n.\u0275cmp=D.Vb({type:n,selectors:[["app-todo"]],decls:5,vars:0,consts:[[1,"page-layout","overflow-hidden","pb-8"],[1,"content"],[1,"content-body"],[1,"content-card","default-bg","height-100vh",3,"perfectScrollbar"]],template:function(t,e){1&t&&(D.hc(0,"div",0),D.hc(1,"div",1),D.hc(2,"div",2),D.hc(3,"div",3),D.cc(4,"router-outlet"),D.gc(),D.gc(),D.gc(),D.gc())},directives:[o.b,y.l],styles:[""],changeDetection:0}),n),T=i("vxfF"),C=i("nLfN"),P=i("8LU1"),L=i("XNiG"),E=i("quSY"),R=i("l5mm"),I=i("eNwd"),O=i("HDdC"),A=i("VRyK"),M=i("1G5W"),F=i("lJxs"),j=i("IzEk"),z=i("JX91"),N=i("vkgz"),H=i("eIep"),G=i("cH1L");function B(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function U(t,e){var i=e?"":"none";B(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function V(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function q(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function W(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Z(t,e,i){var n=t.top,r=t.bottom,o=t.left,a=t.right;return i>=n&&i<=r&&e>=o&&e<=a}function $(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function Y(t,e,i,n){var r=t.top,o=t.right,a=t.bottom,s=t.left,c=t.width*e,l=t.height*e;return n>r-l&&n<a+l&&i>s-c&&i<o+c}var X=function(){function t(e,i){_classCallCheck(this,t),this._document=e,this._viewportRuler=i,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:W(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,i=this.positions.get(e);if(!i)return null;var n,r,o=e===this._document?e.documentElement:e,a=i.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();n=s.top,r=s.left}else n=e.scrollTop,r=e.scrollLeft;var c=a.top-n,l=a.left-r;return this.positions.forEach((function(t,i){t.clientRect&&e!==i&&o.contains(i)&&$(t.clientRect,c,l)})),a.top=n,a.left=r,{top:c,left:l}}}]),t}(),K=Object(C.f)({passive:!0}),J=Object(C.f)({passive:!1}),Q=function(){function t(e,i,n,r,o,a){var s=this;_classCallCheck(this,t),this._config=i,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new L.a,this._pointerMoveSubscription=E.a.EMPTY,this._pointerUpSubscription=E.a.EMPTY,this._scrollSubscription=E.a.EMPTY,this._resizeSubscription=E.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new L.a,this.started=new L.a,this.released=new L.a,this.ended=new L.a,this.entered=new L.a,this.exited=new L.a,this.dropped=new L.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var i=t.target;return!!i&&(i===e||e.contains(i))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var i=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._updatePointerDirectionDelta(i),s._dropContainer)s._updateActiveDropContainer(i);else{var n=s._activeTransform;n.x=i.x-s._pickupPositionOnPage.x+s._passiveTransform.x,n.y=i.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(n.x,n.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(n.x," ").concat(n.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:i,event:t,distance:s._getDragDistance(i),delta:s._pointerDirectionDelta})}))}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new X(n,o),a.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return Object(P.e)(t)})),this._handles.forEach((function(t){return U(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,i=Object(P.e)(t);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){i.addEventListener("mousedown",e._pointerDown,J),i.addEventListener("touchstart",e._pointerDown,K)})),this._initialTransform=void 0,this._rootElement=i),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Object(P.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&nt(this._rootElement),nt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&nt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&nt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){rt(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,i=this._dropContainer;if(i){var n=this._rootElement,r=n.parentNode,o=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(s,n),n.style.display="none",this._document.body.appendChild(r.replaceChild(a,n)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(o),this.started.next({source:this}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var i=this;e.stopPropagation();var n=this.isDragging(),r=rt(e),o=!r&&0!==e.button,a=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||o||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){i._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=W(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var i=e._dropContainer,n=i.getItemIndex(e),r=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),a=i._isOverContainer(r.x,r.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:n,previousIndex:e._initialIndex,container:i,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:o}),i.drop(e,n,e._initialContainer,a,o,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,i=t.x,n=t.y,r=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=r,e._dropContainer.enter(e,i,n,r===e._initialContainer&&r.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:r,currentIndex:r.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._preview.style.transform=tt(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,i=this.previewClass,n=e?e.template:null;if(n&&e){var r=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(n,e.context);o.detectChanges(),t=ot(o,this._document),this._previewRef=o,e.matchSize?at(t,r):t.style.transform=tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;at(t=et(a),a.getBoundingClientRect())}return B(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),U(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach((function(e){return t.classList.add(e)})):t.classList.add(i)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=tt(e.left,e.top);var i=function(t){var e=getComputedStyle(t),i=q(e,"transition-property"),n=i.find((function(t){return"transform"===t||"all"===t}));if(!n)return 0;var r=i.indexOf(n),o=q(e,"transition-duration"),a=q(e,"transition-delay");return V(o[r])+V(a[r])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var n=function i(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(r))},r=setTimeout(n,1.5*i);t._preview.addEventListener("transitionend",n)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),this._placeholderRef.detectChanges(),t=ot(this._placeholderRef,this._document)):t=et(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,r=n?n.getBoundingClientRect():i,o=rt(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),i=rt(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t;return{x:i.pageX-e.left,y:i.pageY-e.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this.constrainPosition?this.constrainPosition(t,this):t,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var n=this._pickupPositionInElement,r=n.x,o=n.y,a=this._boundaryRect,s=this._previewRect,c=a.top+o,l=a.bottom-(s.height-o);e.x=it(e.x,a.left+r,a.right-(s.width-r)),e.y=it(e.y,c,l)}return e}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,i=t.y,n=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(n.y=i>r.y?1:-1,r.y=i),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,U(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,J),t.removeEventListener("touchstart",this._pointerDown,K)}},{key:"_applyRootElementTransform",value:function(t,e){var i=tt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,i=t.y;if(!(0===e&&0===i||this.isDragging())&&this._boundaryElement){var n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===n.width&&0===n.height||0===r.width&&0===r.height)){var o=n.left-r.left,a=r.right-n.right,s=n.top-r.top,c=r.bottom-n.bottom;n.width>r.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,n.height>r.height?(s>0&&(i+=s),c>0&&(i-=c)):i=0,e===this._passiveTransform.x&&i===this._passiveTransform.y||this.setFreeDragPosition({y:i,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:rt(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);e&&(this._boundaryRect&&$(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y)))}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Object(P.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function tt(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function et(t){var e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.querySelectorAll("canvas");e.removeAttribute("id");for(var r=0;r<i.length;r++)i[r].removeAttribute("id");if(n.length)for(var o=e.querySelectorAll("canvas"),a=0;a<n.length;a++){var s=o[a].getContext("2d");if(s)try{s.drawImage(n[a],0,0)}catch(c){}}return e}function it(t,e,i){return Math.max(e,Math.min(i,t))}function nt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function rt(t){return"t"===t.type[0]}function ot(t,e){var i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];var n=e.createElement("div");return i.forEach((function(t){return n.appendChild(t)})),n}function at(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=tt(e.left,e.top)}function st(t,e,i){var n=ct(e,t.length-1),r=ct(i,t.length-1);if(n!==r){for(var o=t[n],a=r<n?-1:1,s=n;s!==r;s+=a)t[s]=t[s+a];t[r]=o}}function ct(t,e){return Math.max(0,Math.min(e,t))}var lt=function(){function t(e,i,n,r,o){var a=this;_classCallCheck(this,t),this._dragDropRegistry=i,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new L.a,this.entered=new L.a,this.exited=new L.a,this.dropped=new L.a,this.sorted=new L.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=E.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new L.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),Object(R.a)(0,I.a).pipe(Object(M.a)(a._stopScrollTimers)).subscribe((function(){var t=a._scrollNode;1===a._verticalScrollDirection?ht(t,-2):2===a._verticalScrollDirection&&ht(t,2),1===a._horizontalScrollDirection?ut(t,-2):2===a._horizontalScrollDirection&&ut(t,2)}))},this.element=Object(P.e)(e),this._document=n,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new X(n,o)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Object(P.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,i,n){var r;this.start(),null==n?-1===(r=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(r=this._getItemIndexFromPointerPosition(t,e,i)):r=n;var o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement(),c=o[r];if(c===t&&(c=o[r+1]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(s,l),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){var d=o[0].getRootElement();d.parentNode.insertBefore(s,d),o.unshift(t)}else Object(P.e)(this.element).appendChild(s),o.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,i,n,r,o){this._reset(),null==o&&(o=i.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:i,isPointerOverContainer:n,distance:r})}},{key:"withItems",value:function(t){var e=this,i=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(i.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=Object(P.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?dt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,i,n){if(!this.sortingDisabled&&Y(this._clientRect,.05,e,i)){var r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(!(-1===o&&r.length>0)){var a="horizontal"===this._orientation,s=dt(r,(function(e){return e.drag===t})),c=r[o],l=c.clientRect,d=s>o?1:-1,h=this._getItemOffsetPx(r[s].clientRect,l,d),u=this._getSiblingOffsetPx(s,r,d),p=r.slice();st(r,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),r.forEach((function(e,i){if(p[i]!==e){var n=e.drag===t,r=n?h:u,o=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,a?(o.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),$(e.clientRect,0,r)):(o.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),$(e.clientRect,r,0))}})),this._previousSwap.overlaps=Z(l,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?n.x:n.y}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var i=this;if(!this.autoScrollDisabled){var n,r=0,o=0;if(this._parentPositions.positions.forEach((function(a,s){var c;s!==i._document&&a.clientRect&&!n&&Y(a.clientRect,.05,t,e)&&(c=_slicedToArray(function(t,e,i,n){var r=pt(e,n),o=gt(e,i),a=0,s=0;if(r){var c=t.scrollTop;1===r?c>0&&(a=1):t.scrollHeight-c>t.clientHeight&&(a=2)}if(o){var l=t.scrollLeft;1===o?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[a,s]}(s,a.clientRect,t,e),2),r=c[0],o=c[1],(r||o)&&(n=s))})),!r&&!o){var a=this._viewportRuler.getViewportSize(),s=a.width,c=a.height,l={width:s,height:c,top:0,right:s,bottom:c,left:0};r=pt(l,e),o=gt(l,t),n=window}!n||r===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=Object(P.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:W(e)}})).sort((function(e,i){return t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Object(P.e)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i],a=r[n?"width":"height"]*i;if(o){var s=n?"left":"top",c=n?"right":"bottom";-1===i?a-=o.clientRect[s]-r[c]:a+=r[s]-o.clientRect[c]}return a}},{key:"_getItemOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,r=n?e.left-t.left:e.top-t.top;return-1===i&&(r+=n?e.width-t.width:e.height-t.height),r}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){var r=i[i.length-1].clientRect;return n?t>=r.right:e>=r.bottom}var o=i[0].clientRect;return n?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,i,n){var r=this,o="horizontal"===this._orientation;return dt(this._itemPositions,(function(a,s,c){var l=a.drag,d=a.clientRect;if(l===t)return c.length<2;if(n){var h=o?n.x:n.y;if(l===r._previousSwap.drag&&r._previousSwap.overlaps&&h===r._previousSwap.delta)return!1}return o?e>=Math.floor(d.left)&&e<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return Z(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,i){return this._siblings.find((function(n){return n._canReceive(t,e,i)}))}},{key:"_canReceive",value:function(t,e,i){if(!Z(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;var n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;var r=Object(P.e)(this.element);return n===r||r.contains(n)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var i=t._parentPositions.handleScroll(e);i&&(t._itemPositions.forEach((function(t){$(t.clientRect,i.top,i.left)})),t._itemPositions.forEach((function(e){var i=e.drag;t._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=Object(C.c)(Object(P.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),t}();function dt(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function ht(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function ut(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function pt(t,e){var i=t.top,n=t.bottom,r=.05*t.height;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}function gt(t,e){var i=t.left,n=t.right,r=.05*t.width;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}var ft,_t,mt,vt,bt,yt,kt=Object(C.f)({passive:!1,capture:!0}),Dt=((ft=function(){function t(e,i){var n=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new L.a,this.pointerUp=new L.a,this.scroll=new L.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._document=i}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,kt)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,kt)}},{key:"startDragging",value:function(t,e){var i=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var n=e.type.startsWith("touch"),r=n?"touchend":"mouseup";this._globalListeners.set(n?"touchmove":"mousemove",{handler:function(t){return i.pointerMove.next(t)},options:kt}).set(r,{handler:function(t){return i.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return i.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:kt}),this._ngZone.runOutsideAngular((function(){i._globalListeners.forEach((function(t,e){i._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,i){t._document.removeEventListener(i,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||ft)(D.lc(D.H),D.lc(b.e))},ft.\u0275prov=Object(D.Xb)({factory:function(){return new ft(Object(D.lc)(D.H),Object(D.lc)(b.e))},token:ft,providedIn:"root"}),ft),wt={dragStartThreshold:5,pointerDirectionChangeThreshold:5},xt=((_t=function(){function t(e,i,n,r){_classCallCheck(this,t),this._document=e,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=r}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;return new Q(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new lt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||_t)(D.lc(b.e),D.lc(D.H),D.lc(T.e),D.lc(Dt))},_t.\u0275prov=Object(D.Xb)({factory:function(){return new _t(Object(D.lc)(b.e),Object(D.lc)(D.H),Object(D.lc)(T.e),Object(D.lc)(Dt))},token:_t,providedIn:"root"}),_t),St=new D.w("CDK_DRAG_PARENT"),Tt=((bt=function(){function t(e,i){_classCallCheck(this,t),this.element=e,this._stateChanges=new L.a,this._disabled=!1,this._parentDrag=i,U(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(P.c)(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||bt)(D.bc(D.o),D.bc(St,8))},bt.\u0275dir=D.Wb({type:bt,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),bt),Ct=((vt=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||vt)(D.bc(D.W))},vt.\u0275dir=D.Wb({type:vt,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),vt),Pt=((mt=function(){function t(e){_classCallCheck(this,t),this.templateRef=e,this._matchSize=!1}return _createClass(t,[{key:"matchSize",get:function(){return this._matchSize},set:function(t){this._matchSize=Object(P.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||mt)(D.bc(D.W))},mt.\u0275dir=D.Wb({type:mt,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),mt),Lt=new D.w("CDK_DRAG_CONFIG"),Et=new D.w("CDK_DROP_LIST"),Rt=((yt=function(){function t(e,i,n,r,o,a,s,c,l){var d=this;_classCallCheck(this,t),this.element=e,this.dropContainer=i,this._document=n,this._ngZone=r,this._viewContainerRef=o,this._dir=s,this._changeDetectorRef=l,this._destroyed=new L.a,this.started=new D.r,this.released=new D.r,this.ended=new D.r,this.entered=new D.r,this.exited=new D.r,this.dropped=new D.r,this.moved=new O.a((function(t){var e=d._dragRef.moved.pipe(Object(F.a)((function(t){return{source:d,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(j.a)(1),Object(M.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object(z.a)(t._handles),Object(N.a)((function(e){var i=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(i)})),Object(H.a)((function(t){return Object(A.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Object(z.a)(t))}))))})),Object(M.a)(t._destroyed)).subscribe((function(e){var i=t._dragRef,n=e.element.nativeElement;e.disabled?i.disableHandle(n):i.enableHandle(n)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?It(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return It(this.element.nativeElement,t);var e=Object(P.e)(t);if(Object(D.hb)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var i=e._dir,n=e.dragStartDelay,r=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(P.f)(n),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o),i&&t.withDirection(i.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,i=t.dragStartDelay,n=t.constrainPosition,r=t.previewClass,o=t.boundaryElement,a=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),r&&(this.previewClass=r),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s)}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Object(P.c)(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||yt)(D.bc(D.o),D.bc(Et,12),D.bc(b.e),D.bc(D.H),D.bc(D.ab),D.bc(Lt,8),D.bc(G.c,8),D.bc(xt),D.bc(D.i))},yt.\u0275dir=D.Wb({type:yt,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(D.Ub(i,Pt,!0),D.Ub(i,Ct,!0),D.Ub(i,Tt,!0)),2&t&&(D.Oc(n=D.qc())&&(e._previewTemplate=n.first),D.Oc(n=D.qc())&&(e._placeholderTemplate=n.first),D.Oc(n=D.qc())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&D.Sb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[D.Lb([{provide:St,useExisting:yt}]),D.Kb]}),yt);function It(t,e){for(var i=t.parentElement;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}var Ot,At,Mt,Ft,jt=((Mt=function(){function t(){_classCallCheck(this,t),this._items=new Set,this._disabled=!1}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._items.clear()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(P.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||Mt)},Mt.\u0275dir=D.Wb({type:Mt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),Mt),zt=0,Nt=((At=function(){function t(e,i,n,r,o,a,s){var c=this;_classCallCheck(this,t),this.element=e,this._changeDetectorRef=n,this._dir=r,this._group=o,this._scrollDispatcher=a,this._destroyed=new L.a,this.connectedTo=[],this.id="cdk-drop-list-"+zt++,this.enterPredicate=function(){return!0},this.dropped=new D.r,this.entered=new D.r,this.exited=new D.r,this.sorted=new D.r,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,s&&this._assignDefaults(s),this._dropListRef.enterPredicate=function(t,e){return c.enterPredicate(t.data,e.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}return _createClass(t,[{key:"addItem",value:function(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort((function(t,e){return t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}))}},{key:"ngOnDestroy",value:function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(e){var i=this;this._dir&&this._dir.change.pipe(Object(z.a)(this._dir.value),Object(M.a)(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var n=Object(P.b)(i.connectedTo).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));if(i._group&&i._group._items.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),!i._scrollableParentsResolved&&i._scrollDispatcher){var r=i._scrollDispatcher.getAncestorScrollContainers(i.element).map((function(t){return t.getElementRef().nativeElement}));i._dropListRef.withScrollableParents(r),i._scrollableParentsResolved=!0}e.disabled=i.disabled,e.lockAxis=i.lockAxis,e.sortingDisabled=Object(P.c)(i.sortingDisabled),e.autoScrollDisabled=Object(P.c)(i.autoScrollDisabled),e.connectedTo(n.filter((function(t){return t&&t!==i})).map((function(t){return t._dropListRef}))).withOrientation(i.orientation)}))}},{key:"_handleEvents",value:function(t){var e=this;t.beforeStarted.subscribe((function(){e._syncItemsWithRef(),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,i=t.draggingDisabled,n=t.sortingDisabled,r=t.listAutoScrollDisabled,o=t.listOrientation;this.disabled=null!=i&&i,this.sortingDisabled=null!=n&&n,this.autoScrollDisabled=null!=r&&r,this.orientation=o||"vertical",e&&(this.lockAxis=e)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map((function(t){return t._dragRef})))}},{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=Object(P.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||At)(D.bc(D.o),D.bc(xt),D.bc(D.i),D.bc(G.c,8),D.bc(jt,12),D.bc(T.c),D.bc(Lt,8))},At.\u0275dir=D.Wb({type:At,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(D.kc("id",e.id),D.Sb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[D.Lb([{provide:jt,useValue:void 0},{provide:Et,useExisting:At}])]}),At._dropLists=[],At),Ht=((Ot=function t(){_classCallCheck(this,t)}).\u0275mod=D.Zb({type:Ot}),Ot.\u0275inj=D.Yb({factory:function(t){return new(t||Ot)},providers:[xt],imports:[T.b]}),Ot),Gt=i("XhcP"),Bt=i("Kj3r"),Ut=i("XiUz"),Vt=i("znSr"),qt=((Ft=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e){return void 0!==t&&e?t.filter((function(t){return t.title.toLowerCase().match(e.toLowerCase())||t.note.toLowerCase().match(e.toLowerCase())})):t}}]),t}()).\u0275fac=function(t){return new(t||Ft)},Ft.\u0275pipe=D.ac({name:"todoSearch",type:Ft,pure:!0}),Ft);function Wt(t,e){if(1&t){var i=D.ic();D.hc(0,"button",5),D.pc("click",(function(){D.Tc(i);var t=e.$implicit;return D.tc().filterTodoListOnTag(t)})),D.cd(1),D.gc()}if(2&t){var n=e.$implicit;D.Mb(1),D.ed(" ",n.name," ")}}function Zt(t,e){1&t&&(D.hc(0,"div",20),D.cd(1," Loading... "),D.gc())}function $t(t,e){if(1&t&&(D.hc(0,"mat-chip"),D.cd(1),D.gc()),2&t){var i=D.tc().$implicit,n=D.tc(2);D.Mb(1),D.ed(" ",n.tagMap.get(i)," ")}}function Yt(t,e){if(1&t&&(D.hc(0,"div"),D.ad(1,$t,2,1,"mat-chip",37),D.gc()),2&t){var i=e.$implicit,n=D.tc(2);D.Mb(1),D.Ac("ngIf",n.tagMap.get(i))}}var Xt=function(t){return{"fill-color-warn":t}},Kt=function(t){return{"fill-color-accent":t}};function Jt(t,e){if(1&t){var i=D.ic();D.hc(0,"div",21),D.hc(1,"mat-icon",22),D.cd(2,"open_with"),D.gc(),D.hc(3,"div",23),D.hc(4,"div",24),D.hc(5,"div",25),D.hc(6,"h4",26),D.cd(7),D.gc(),D.hc(8,"div",27),D.hc(9,"mat-chip-list",null,28),D.ad(11,Yt,2,1,"div",29),D.gc(),D.gc(),D.gc(),D.hc(12,"span"),D.cd(13),D.gc(),D.gc(),D.hc(14,"div",30),D.hc(15,"button",31),D.pc("click",(function(){D.Tc(i);var t=e.$implicit;return D.tc().toggleImportant(t)})),D.hc(16,"mat-icon",32),D.cd(17),D.gc(),D.gc(),D.hc(18,"button",31),D.pc("click",(function(){D.Tc(i);var t=e.$implicit;return D.tc().toggleStar(t)})),D.hc(19,"mat-icon",32),D.cd(20),D.gc(),D.gc(),D.hc(21,"div"),D.hc(22,"button",33),D.hc(23,"mat-icon"),D.cd(24,"more_vert"),D.gc(),D.gc(),D.hc(25,"mat-menu",34,35),D.hc(27,"button",5),D.pc("click",(function(){D.Tc(i);var t=e.$implicit;return D.tc().toggleRead(t)})),D.hc(28,"mat-icon"),D.cd(29),D.gc(),D.hc(30,"span",36),D.cd(31),D.gc(),D.gc(),D.hc(32,"button",5),D.pc("click",(function(){D.Tc(i);var t=e.$implicit;return D.tc().toggleDone(t)})),D.hc(33,"mat-icon"),D.cd(34),D.gc(),D.hc(35,"span",36),D.cd(36),D.gc(),D.gc(),D.gc(),D.gc(),D.gc(),D.gc(),D.gc()}if(2&t){var n=e.$implicit,r=D.Pc(26);D.Mb(4),D.Cc("routerLink","/todo/list/",null==n?null:n.id,""),D.Mb(3),D.dd(null==n?null:n.title),D.Mb(4),D.Ac("ngForOf",null==n?null:n.tag),D.Mb(2),D.dd(null==n?null:n.note),D.Mb(3),D.Ac("ngClass",D.Gc(14,Xt,null==n?null:n.important)),D.Mb(1),D.dd(null!=n&&n.important?"error":"error_outline"),D.Mb(2),D.Ac("ngClass",D.Gc(16,Kt,null==n?null:n.starred)),D.Mb(1),D.dd(null!=n&&n.starred?"star":"star_outline"),D.Mb(2),D.Ac("matMenuTriggerFor",r),D.Mb(3),D.Ac("xPosition","before"),D.Mb(4),D.dd(n.completed?"check_box":"check_box_outline_blank"),D.Mb(2),D.dd(n.completed?"Mark as unread":"Mark as read"),D.Mb(3),D.dd(n.done?"check_box":"check_box_outline_blank"),D.Mb(2),D.dd(n.done?"Mark as Important":"Mark as done")}}var Qt,te=((Qt=function(){function t(e,i){_classCallCheck(this,t),this.todoService=e,this.cdr=i,this.tagMap=new Map,this.isMasterToggled=!1,this.toggledItemNumber=0,this.isSidenavOpen=!0,this.unsubscribeAll=new L.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.tagMap.clear(),this.todoService.getTodoList().pipe(Object(M.a)(this.unsubscribeAll)).subscribe((function(e){t.todoList=e,t.tempList=e,t.todoService.getTagList().pipe(Object(M.a)(t.unsubscribeAll)).subscribe((function(e){t.tagList=e,e.forEach((function(e){t.tagMap.set(e.id,e.name),t.cdr.markForCheck()}))}))})),this.todoService.getSearchTerm().pipe(Object(Bt.a)(250)).pipe(Object(M.a)(this.unsubscribeAll)).subscribe((function(e){t.searchTerm=e,t.cdr.markForCheck()})),this.updateSearchTerm("")}},{key:"updateSearchTerm",value:function(t){this.todoService.updateSearchTerm(t)}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}},{key:"drop",value:function(t){st(this.todoList,t.previousIndex,t.currentIndex),this.cdr.markForCheck()}},{key:"filterTodoListOnTag",value:function(t){this.todoList=this.tempList.filter((function(e){return e.tag.includes(t.id)})),this.cdr.detectChanges()}},{key:"onTodoOptionSelected",value:function(t){switch(t.target.innerText){case"All":this.todoList=this.tempList;break;case"Completed":this.todoList=this.tempList.filter((function(t){return!t.completed}));break;case"Trashed":this.todoList=this.tempList.filter((function(t){return!t.trashed}));break;case"Important":this.todoList=this.tempList.filter((function(t){return t.important}));break;case"Unimportant":this.todoList=this.tempList.filter((function(t){return!t.important}));break;case"Done":this.todoList=this.tempList.filter((function(t){return t.done}));break;case"Important":this.todoList=this.tempList.filter((function(t){return!t.important}));break;case"Starred":this.todoList=this.tempList.filter((function(t){return t.starred}));break;case"Unstarred":this.todoList=this.tempList.filter((function(t){return!t.starred}))}this.cdr.detectChanges()}},{key:"masterToggle",value:function(){var t=this;this.toggledItemNumber=0,this.isMasterToggled=!this.isMasterToggled,this.todoList.forEach(this.isMasterToggled?function(e){e.selected=!0,t.toggledItemNumber++}:function(e){e.selected=!1,t.toggledItemNumber--}),this.cdr.detectChanges()}},{key:"toggleCheckBox",value:function(t){t.selected=!t.selected,t.selected?this.toggledItemNumber++:this.toggledItemNumber--,this.toggledItemNumber==this.todoList.length?this.isMasterToggled=!0:0==this.toggledItemNumber&&(this.isMasterToggled=!1)}},{key:"toggleImportant",value:function(t){t.important=!t.important,this.todoService.updateTodo(t)}},{key:"toggleStar",value:function(t){t.starred=!t.starred,this.todoService.updateTodo(t)}},{key:"toggleRead",value:function(t){t.completed=!t.completed,this.todoService.updateTodo(t)}},{key:"toggleDone",value:function(t){t.done=!t.done,this.todoService.updateTodo(t)}}]),t}()).\u0275fac=function(t){return new(t||Qt)(D.bc(x),D.bc(D.i))},Qt.\u0275cmp=D.Vb({type:Qt,selectors:[["app-todo-list"]],viewQuery:function(t,e){var i;1&t&&D.hd(Gt.d,!0),2&t&&D.Oc(i=D.qc())&&(e.sideNav=i.first)},decls:63,vars:6,consts:[["fxLayout","row",1,"todo-wrapper"],[1,"todo-sidenav"],[1,"border-bottom"],[1,"pt-1","pb-1","pr-05","pl-05"],["mat-raised-button","","color","primary","routerLink","/todo/add",1,"w-100","border-shadow-0"],["mat-menu-item","",3,"click"],[1,"ml-1","mt-1","fw-500"],["fxLayout","row","fxLayoutAlign","start center","mat-menu-item","",3,"click"],[1,"h-3","w-3","red-border","rounded-circle","border-2","border-solid","mr-05"],[1,"todo-content","border-shadow-0"],["fxLayoutGap","5px"],["fxFlex","1 1 0%",1,"search-box","mat-elevation-z2","border-shadow-0","border"],["mat-icon-button",""],["type","text","placeholder","Search",3,"keyup"],["serachTerm",""],["tagMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["cdkDropList","",1,"todo-list",3,"cdkDropListDropped"],["class","todo-box","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["class","todo-box","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px","cdkDrag","","cdkDragHandle","",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center",1,"todo-box"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px","cdkDrag","","cdkDragHandle","",1,"todo-box"],[1,"move-handler"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlex","1 1 0%"],["fxLayout","column","fxLayoutGap","8px","fxFlex","1 1 0%",2,"cursor","pointer",3,"routerLink"],["fxLayout","row","xLayoutAlign","start center",1,"title-wrap"],[1,"fw-500"],[1,"todo-tags","ml-1"],["chipList",""],[4,"ngFor","ngForOf"],["fxFlexAlign","end center","fxLayout","row"],["mat-icon-button","",3,"click"],[3,"ngClass"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"xPosition"],["menu2","matMenu"],[2,"vertical-align","middle"],[4,"ngIf"]],template:function(t,e){if(1&t){var i=D.ic();D.hc(0,"div",0),D.hc(1,"div",1),D.hc(2,"div",2),D.hc(3,"div",3),D.hc(4,"button",4),D.cd(5," Add Task "),D.gc(),D.gc(),D.hc(6,"a",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.hc(7,"mat-icon"),D.cd(8,"filter"),D.gc(),D.hc(9,"span"),D.cd(10,"All"),D.gc(),D.gc(),D.gc(),D.hc(11,"div"),D.hc(12,"div",2),D.hc(13,"h4",6),D.cd(14,"Filters"),D.gc(),D.hc(15,"a",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.hc(16,"mat-icon"),D.cd(17,"star_border"),D.gc(),D.hc(18,"span"),D.cd(19,"Starred"),D.gc(),D.gc(),D.hc(20,"a",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.hc(21,"mat-icon"),D.cd(22,"error_outline"),D.gc(),D.hc(23,"span"),D.cd(24,"Important"),D.gc(),D.gc(),D.hc(25,"a",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.hc(26,"mat-icon"),D.cd(27,"check"),D.gc(),D.hc(28,"span"),D.cd(29,"Completed"),D.gc(),D.gc(),D.hc(30,"a",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.hc(31,"mat-icon"),D.cd(32,"delete_outline"),D.gc(),D.hc(33,"span"),D.cd(34,"Trashed"),D.gc(),D.gc(),D.gc(),D.hc(35,"h4",6),D.cd(36,"Labels"),D.gc(),D.hc(37,"a",7),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.cc(38,"div",8),D.cd(39,"Starred "),D.gc(),D.hc(40,"button",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.cd(41," Unstarred "),D.gc(),D.hc(42,"button",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.cd(43," Important "),D.gc(),D.hc(44,"button",5),D.pc("click",(function(t){return e.onTodoOptionSelected(t)})),D.cd(45," Unimportant "),D.gc(),D.gc(),D.gc(),D.hc(46,"div",9),D.hc(47,"mat-toolbar",10),D.hc(48,"div",11),D.hc(49,"button",12),D.hc(50,"mat-icon"),D.cd(51,"search"),D.gc(),D.gc(),D.hc(52,"input",13,14),D.pc("keyup",(function(){D.Tc(i);var t=D.Pc(53);return e.updateSearchTerm(t.value)})),D.gc(),D.gc(),D.hc(54,"mat-menu",null,15),D.hc(56,"button",5),D.pc("click",(function(){return e.onTodoOptionSelected({target:{innerText:"All"}})})),D.cd(57," all "),D.gc(),D.ad(58,Wt,2,1,"button",16),D.gc(),D.gc(),D.hc(59,"div",17),D.pc("cdkDropListDropped",(function(t){return e.drop(t)})),D.ad(60,Zt,2,0,"div",18),D.ad(61,Jt,37,18,"div",19),D.uc(62,"todoSearch"),D.gc(),D.gc(),D.gc()}2&t&&(D.Mb(58),D.Ac("ngForOf",e.tagList),D.Mb(2),D.Ac("ngIf",(null==e.todoList?null:e.todoList.length)<1),D.Mb(1),D.Ac("ngForOf",D.wc(62,3,e.todoList,e.searchTerm)))},directives:[Ut.d,s.b,y.h,_.a,g.a,Ut.c,m.a,Ut.e,Ut.b,_.d,b.p,Nt,b.q,Rt,Tt,l.c,Ut.a,b.o,Vt.a,_.c,l.a],pipes:[qt],styles:[""],changeDetection:0}),Qt),ee=i("kmnG");function ie(t,e){if(1&t){var i=D.ic();D.hc(0,"div",0),D.hc(1,"span"),D.cd(2),D.gc(),D.hc(3,"span"),D.cd(4),D.gc(),D.hc(5,"button",8),D.pc("click",(function(){D.Tc(i);var t=e.index,n=e.$implicit,r=D.tc();return r.tagList.splice(t,1),r.deleteTag(n)})),D.cd(6,"Delete"),D.gc(),D.gc()}if(2&t){var n=e.$implicit;D.Mb(2),D.dd(n.id),D.Mb(2),D.dd(n.name)}}var ne,re=((ne=function(){function t(e,i,n,r){_classCallCheck(this,t),this.cdr=e,this.todoService=i,this.dialogRef=n,this.data=r}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.todoService.getTagList().subscribe((function(e){t.tagList=e,t.cdr.markForCheck()}))}},{key:"addTag",value:function(t){if(t){var e={id:this.tagList.length+1,name:t};this.tagList.push(e),this.todoService.saveTag(e).subscribe((function(t){})),this.cdr.markForCheck()}}},{key:"deleteTag",value:function(t){this.todoService.deleteTag(t)}}]),t}()).\u0275fac=function(t){return new(t||ne)(D.bc(D.i),D.bc(x),D.bc(u.g),D.bc(u.a))},ne.\u0275cmp=D.Vb({type:ne,selectors:[["app-tag-dialogue"]],decls:12,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center"],["matInput","","placeholder","New tag","required","",3,"keyup.enter"],["tagInput",""],["color","primary","mat-raised-button","",3,"click"],["fxLayout","column","fxLayoutGap","16px",2,"margin-top","20px"],["fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["color","warn","mat-raised-button","",3,"click"]],template:function(t,e){if(1&t){var i=D.ic();D.hc(0,"mat-dialog-content"),D.hc(1,"div",0),D.hc(2,"mat-form-field"),D.hc(3,"input",1,2),D.pc("keyup.enter",(function(){D.Tc(i);var t=D.Pc(4);return e.addTag(t.value),t.value=""})),D.gc(),D.gc(),D.hc(5,"button",3),D.pc("click",(function(){D.Tc(i);var t=D.Pc(4);return e.addTag(t.value),t.value=""})),D.cd(6,"Add"),D.gc(),D.gc(),D.hc(7,"div",4),D.ad(8,ie,7,2,"div",5),D.gc(),D.gc(),D.hc(9,"mat-dialog-actions",6),D.hc(10,"button",7),D.cd(11,"Close"),D.gc(),D.gc()}2&t&&(D.Mb(8),D.Ac("ngForOf",e.tagList))},directives:[u.e,Ut.d,Ut.c,ee.c,f.b,s.b,Ut.e,b.p,u.c,u.d],styles:[""],changeDetection:0}),ne);function oe(t,e){if(1&t){var i=D.ic();D.hc(0,"button",15),D.pc("click",(function(){D.Tc(i);var t=e.$implicit;return D.tc().updateTodoTag(t.id)})),D.cd(1),D.gc()}if(2&t){var n=e.$implicit;D.Mb(1),D.ed(" ",n.name," ")}}function ae(t,e){if(1&t){var i=D.ic();D.hc(0,"mat-chip",17),D.pc("removed",(function(){D.Tc(i);var t=D.tc().$implicit;return D.tc().removeTagFromTodo(t)})),D.hc(1,"span"),D.cd(2),D.gc(),D.hc(3,"mat-icon",18),D.cd(4,"cancel"),D.gc(),D.gc()}if(2&t){var n=D.tc().$implicit,r=D.tc();D.Ac("selectable",!0)("removable",!0),D.Mb(2),D.dd(r.tagMap.get(n))}}function se(t,e){if(1&t&&(D.hc(0,"div"),D.ad(1,ae,5,3,"mat-chip",16),D.gc()),2&t){var i=e.$implicit,n=D.tc();D.Mb(1),D.Ac("ngIf",n.tagMap.get(i))}}function ce(t,e){if(1&t){var i=D.ic();D.hc(0,"form",19),D.pc("ngSubmit",(function(){return D.Tc(i),D.tc().saveTodo()})),D.hc(1,"mat-form-field"),D.cc(2,"input",20),D.gc(),D.hc(3,"mat-form-field"),D.cc(4,"textarea",21),D.gc(),D.hc(5,"div",22),D.hc(6,"mat-form-field"),D.cc(7,"input",23),D.cc(8,"mat-datepicker-toggle",24),D.cc(9,"mat-datepicker",null,25),D.gc(),D.hc(11,"mat-form-field"),D.cc(12,"input",26),D.cc(13,"mat-datepicker-toggle",24),D.cc(14,"mat-datepicker",null,27),D.gc(),D.gc(),D.hc(16,"div",28),D.hc(17,"button",29),D.cd(18,"Cancel"),D.gc(),D.hc(19,"button",30),D.cd(20,"Save"),D.gc(),D.gc(),D.gc()}if(2&t){var n=D.Pc(10),r=D.Pc(15),o=D.tc();D.Ac("formGroup",o.todoForm),D.Mb(7),D.Ac("matDatepicker",n),D.Mb(1),D.Ac("for",n),D.Mb(4),D.Ac("matDatepicker",r),D.Mb(1),D.Ac("for",r)}}var le,de,he,ue=function(t){return{"fill-color-warn":t}},pe=function(t){return{"fill-color-accent":t}},ge=((le=function(){function t(e,i,n,r,o,a,s){_classCallCheck(this,t),this.tagDialogue=e,this.fb=i,this.router=n,this.route=r,this.http=o,this.todoService=a,this.cdr=s,this.todo={title:"",note:"",startDate:"",dueDate:"",tag:[]},this.tagMap=new Map}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=this.route.snapshot.params.id;e?this.todoService.getTodoById(e).subscribe((function(e){t.todo=e,t.buildTodoForm(t.todo)})):this.buildTodoForm(),this.getTagList()}},{key:"getTagList",value:function(){var t=this;this.tagMap.clear(),this.todoService.getTagList().subscribe((function(e){t.tagList=e,e.forEach((function(e){t.tagMap.set(e.id,e.name)})),t.cdr.markForCheck()}))}},{key:"buildTodoForm",value:function(t){this.todoForm=this.fb.group({title:[t?t.title:""],note:[t?t.note:""],startDate:[t?t.startDate:""],dueDate:[t?t.dueDate:""]})}},{key:"saveTodo",value:function(){var t=this;this.todoForm.invalid||(this.todo.title=this.todoForm.get("title").value,this.todo.note=this.todoForm.get("note").value,this.todo.startDate=this.todoForm.get("startDate").value,this.todo.dueDate=this.todoForm.get("dueDate").value,this.todoService.updateTodo(this.todo).subscribe((function(e){t.router.navigateByUrl("/todo/list")})))}},{key:"updateTodoTag",value:function(t){this.todo.tag.includes(t)||(this.todo.tag.push(t),this.cdr.markForCheck())}},{key:"removeTagFromTodo",value:function(t){this.todo.tag.splice(this.todo.tag.indexOf(t),1),this.cdr.markForCheck()}},{key:"deleteTodo",value:function(){var t=this;this.todo.id&&this.todoService.deleteTodo(this.todo).subscribe((function(e){t.router.navigateByUrl("/todo/list")}))}},{key:"openTagManaginDialogue",value:function(){var t=this;this.tagDialogue.open(re,{}).afterClosed().subscribe((function(e){t.getTagList()}))}}]),t}()).\u0275fac=function(t){return new(t||le)(D.bc(u.b),D.bc(a.e),D.bc(y.g),D.bc(y.a),D.bc(w.c),D.bc(x),D.bc(D.i))},le.\u0275cmp=D.Vb({type:le,selectors:[["app-todo-details"]],decls:34,vars:19,consts:[["mat-icon-button","","routerLink","/todo/list"],[2,"margin-left","16px","font-size","14px",3,"checked","change"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end center"],["mat-icon-button","",3,"matTooltip","click"],[3,"ngClass"],["mat-icon-button","","matTooltip","Manage tags",3,"click"],["mat-icon-button","","matTooltip","Add tags",3,"matMenuTriggerFor"],[3,"xPosition"],["menu","matMenu"],["style","text-transform: capitalize;","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Delete",3,"click"],[2,"margin","20px 0px 0px 16px"],["chipList",""],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","8px","style","padding: 0px 16px;margin-top: 20px;",3,"formGroup","ngSubmit",4,"ngIf"],["mat-menu-item","",2,"text-transform","capitalize",3,"click"],["fxLayout","row","fxLayoutAlign","center center",3,"selectable","removable","removed",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",3,"selectable","removable","removed"],["matChipRemove",""],["fxLayout","column","fxLayoutGap","8px",2,"padding","0px 16px","margin-top","20px",3,"formGroup","ngSubmit"],["formControlName","title","matInput","","placeholder","Title","required",""],["formControlName","note","matInput","","placeholder","Put your notes","matTextareaAutosize","","required",""],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","50px"],["formControlName","startDate","matInput","","placeholder","Start Date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","dueDate","matInput","","placeholder","Due Date","required","",3,"matDatepicker"],["picker2",""],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px"],["type","button","mat-button","","routerLink","/todo/list"],["color","primary","mat-raised-button",""]],template:function(t,e){if(1&t&&(D.hc(0,"mat-toolbar"),D.hc(1,"button",0),D.hc(2,"mat-icon"),D.cd(3,"arrow_back"),D.gc(),D.gc(),D.hc(4,"mat-checkbox",1),D.pc("change",(function(){return e.todo.done=!e.todo.done})),D.hc(5,"span"),D.cd(6),D.gc(),D.gc(),D.hc(7,"div",2),D.hc(8,"button",3),D.pc("click",(function(){return e.todo.completed=!e.todo.completed})),D.hc(9,"mat-icon"),D.cd(10),D.gc(),D.gc(),D.hc(11,"button",3),D.pc("click",(function(){return e.todo.important=!e.todo.important})),D.hc(12,"mat-icon",4),D.cd(13),D.gc(),D.gc(),D.hc(14,"button",3),D.pc("click",(function(){return e.todo.starred=!e.todo.starred})),D.hc(15,"mat-icon",4),D.cd(16),D.gc(),D.gc(),D.hc(17,"button",5),D.pc("click",(function(){return e.openTagManaginDialogue()})),D.hc(18,"mat-icon"),D.cd(19,"library_add"),D.gc(),D.gc(),D.hc(20,"button",6),D.hc(21,"mat-icon"),D.cd(22,"label"),D.gc(),D.gc(),D.hc(23,"mat-menu",7,8),D.ad(25,oe,2,1,"button",9),D.gc(),D.hc(26,"button",10),D.pc("click",(function(){return e.deleteTodo()})),D.hc(27,"mat-icon"),D.cd(28,"delete_outline"),D.gc(),D.gc(),D.gc(),D.gc(),D.hc(29,"div",11),D.hc(30,"mat-chip-list",null,12),D.ad(32,se,2,1,"div",13),D.gc(),D.gc(),D.ad(33,ce,21,5,"form",14)),2&t){var i=D.Pc(24);D.Mb(4),D.Ac("checked",null==e.todo?null:e.todo.done),D.Mb(2),D.ed(" ",null!=e.todo&&e.todo.done?"Mark as undone":"Mark as done"," "),D.Mb(2),D.Bc("matTooltip",null!=e.todo&&e.todo.completed?"Mark as uncompleted":"Mark as completed"),D.Mb(2),D.dd(null!=e.todo&&e.todo.completed?"drafts":"completed"),D.Mb(1),D.Bc("matTooltip",null!=e.todo&&e.todo.important?"Mark as unimportant":"Mark as important"),D.Mb(1),D.Ac("ngClass",D.Gc(15,ue,null==e.todo?null:e.todo.important)),D.Mb(1),D.dd(null!=e.todo&&e.todo.important?"error":"error_outline"),D.Mb(1),D.Bc("matTooltip",null!=e.todo&&e.todo.starred?"Remove star":"Mark star"),D.Mb(1),D.Ac("ngClass",D.Gc(17,pe,null==e.todo?null:e.todo.starred)),D.Mb(1),D.dd(null!=e.todo&&e.todo.starred?"star":"star_outline"),D.Mb(4),D.Ac("matMenuTriggerFor",i),D.Mb(3),D.Ac("xPosition","before"),D.Mb(2),D.Ac("ngForOf",e.tagList),D.Mb(7),D.Ac("ngForOf",null==e.todo?null:e.todo.tag),D.Mb(1),D.Ac("ngIf",e.todoForm)}},directives:[m.a,s.b,y.h,g.a,c.a,Ut.d,Ut.b,Ut.c,v.a,b.o,Vt.a,_.c,_.d,b.p,l.c,b.q,_.a,l.a,l.d,a.A,a.q,Ut.e,a.j,ee.c,a.c,f.b,a.p,a.h,a.w,f.d,h.b,h.d,ee.i,h.a],styles:[""],changeDetection:0}),le),fe=[{path:"",component:S,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:te,data:{title:"Todo",breadcrumb:"Todo"}},{path:"add",component:ge,data:{title:"Todo Add",breadcrumb:"Todo Add"}},{path:"list/:id",component:ge,data:{title:"Todo Details",breadcrumb:"Todo Details"}}]}],_e=((de=function t(){_classCallCheck(this,t)}).\u0275mod=D.Zb({type:de}),de.\u0275inj=D.Yb({factory:function(t){return new(t||de)},imports:[[y.k.forChild(fe)],y.k]}),de),me=i("YUcS"),ve=((he=function t(){_classCallCheck(this,t)}).\u0275mod=D.Zb({type:he}),he.\u0275inj=D.Yb({factory:function(t){return new(t||he)},imports:[[b.c,_e,g.b,c.b,_.b,s.c,p.b,Ht,me.a,d.u,m.b,f.c,h.c,d.m,f.c,a.v,v.b,u.f,l.e,o.c]]}),he)}}]);